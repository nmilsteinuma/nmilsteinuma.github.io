[
  {
    "path": "posts/2022-03-05-an-attempt-to-scrape-wikipedia/",
    "title": "An Attempt to Scrape Wikipedia",
    "description": "This Post Involves my Attempt to Scrape and Clean the Output of a Wikipedia article to get the Same Data I had to Make by Hand.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-03-05",
    "categories": [],
    "contents": "\n\n\nlibrary(textreadr)\nlibrary(tidyr)\nlibrary(rvest)\n\n\n\n\n\nlist_of_wars_1000 <- \"https://en.wikipedia.org/wiki/List_of_wars:_1000%E2%80%931499\"\n\nwars_1000s_df <- read_html(list_of_wars_1000) \n\nwars_1000s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(2) %>% html_table()\n\n\n\n\n\nwars_1000s_subset <- wars_1000s[,1:5]\nwars_1000s_subset\n\n\n# A tibble: 58 × 5\n   Start  Finish `Name of conflict`          Belligerents Belligerents\n   <chr>  <chr>  <chr>                       <chr>        <chr>       \n 1 Start  Finish Name of conflict            Victorious … \"Defeated p…\n 2 1000   1139   Norman conquest of souther… County of A… \"Principali…\n 3 1001   1001   Battle of Peshawar (1001)   Ghaznavids   \"Kabul Shah…\n 4 1002   1018   German–Polish War           Kingdom of … \"Holy Roman…\n 5 1008   1008   Hungarian–Ahtum War         Kingdom of … \"Voivodeshi…\n 6 1008   1008   Battle of Chach             Ghaznavids   \"Kabul Shah…\n 7 1007–8 1007–8 Battle at Herdaler          Kingdom of … \"Finnish tr…\n 8 1009   1031   Fitna of al-Andalus         Hammudid dy… \"Caliphate …\n 9 1010   1011   Second conflict in the Gor… Liao dynasty \"Goryeo\"    \n10 1014   1014   Battle of Clontarf          High King o… \"LeinsterDu…\n# … with 48 more rows\n\n\n\nwars_1100s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(3) %>% html_table()\n\n\nwars_1100s_subset <- wars_1100s[,1:5]\nwars_1100s_subset\n\n\n# A tibble: 39 × 5\n   Start          Finish    `Name of Confl…` Belligerents Belligerents\n   <chr>          <chr>     <chr>            <chr>        <chr>       \n 1 Start          Finish    Name of Conflict \"Victorious… \"Defeated p…\n 2 Summer of 1101 Summer o… Crusade of 1101… \"Sultanate … \"Crusaders\\…\n 3 1101           1101      Battle of Ramla… \"Kingdom of… \"Fatimid Ca…\n 4 1102           1102      Battle of Ramla… \"Fatimids o… \"Kingdom of…\n 5 1107           1110      Norwegian Crusa… \"Kingdom of… \"Muslim Kin…\n 6 1110           1110      Chola invasion … \"Chola Empi… \"Kalinga\"   \n 7 1113           1115      1113–15 Baleari… \"Republic o… \"Taifa of M…\n 8 1122           1124      Venetian Crusad… \"Republic o… \"Fatimid Ca…\n 9 1107           1119      Muhammad Tapar'… \"Seljuq Emp… \"Nizari Ism…\n10 1123           1123      Kalmare ledungP… \"Kingdom of… \"Swedish Pa…\n# … with 29 more rows\n\n\n\nwars_1100s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(3) %>% html_table()\n\n\nwars_1100s_subset <- wars_1100s[,1:5]\nwars_1100s_subset\n\n\n# A tibble: 39 × 5\n   Start          Finish    `Name of Confl…` Belligerents Belligerents\n   <chr>          <chr>     <chr>            <chr>        <chr>       \n 1 Start          Finish    Name of Conflict \"Victorious… \"Defeated p…\n 2 Summer of 1101 Summer o… Crusade of 1101… \"Sultanate … \"Crusaders\\…\n 3 1101           1101      Battle of Ramla… \"Kingdom of… \"Fatimid Ca…\n 4 1102           1102      Battle of Ramla… \"Fatimids o… \"Kingdom of…\n 5 1107           1110      Norwegian Crusa… \"Kingdom of… \"Muslim Kin…\n 6 1110           1110      Chola invasion … \"Chola Empi… \"Kalinga\"   \n 7 1113           1115      1113–15 Baleari… \"Republic o… \"Taifa of M…\n 8 1122           1124      Venetian Crusad… \"Republic o… \"Fatimid Ca…\n 9 1107           1119      Muhammad Tapar'… \"Seljuq Emp… \"Nizari Ism…\n10 1123           1123      Kalmare ledungP… \"Kingdom of… \"Swedish Pa…\n# … with 29 more rows\n\n\n\nwars_1200s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(4) %>% html_table()\n\n\nwars_1200s_subset <- wars_1200s[,1:5]\nwars_1200s_subset\n\n\n# A tibble: 83 × 5\n   Start Finish `Name of Conflict`           Belligerents Belligerents\n   <chr> <chr>  <chr>                        <chr>        <chr>       \n 1 Start Finish Name of Conflict             \"Victorious… \"Defeated p…\n 2 1201  1219   War of the Antiochene Succe… \"Forces of … \"Forces of …\n 3 1202  1204   Fourth CrusadePart of the C… \"Holy Roman… \"Byzantine …\n 4 1204  1206   Intervention in Chaldia      \"Kingdom of… \"Byzantine …\n 5 1202  1204   Anglo-Norman War (1202–04)   \"Kingdom of… \"Kingdom of…\n 6 1202  1214   Anglo-French War of 1202–12… \"Kingdom of… \"Kingdom of…\n 7 1203  1206   Loon War                     \"Holland Ki… \"Loon Franc…\n 8 1204  1261   Bulgarian–Latin wars         \"Bulgarian … \"Latin Empi…\n 9 1206  1337   Mongol invasions and conque… \"Mongol Emp… \"西夏 Weste…\n10 1208  1209   Lombard Rebellion            \"Latin Empi… \"Rebel baro…\n# … with 73 more rows\n\n\n\nwars_1300s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(5) %>% html_table()\n\n\nwars_1300s_subset <- wars_1300s[,1:5]\nwars_1300s_subset\n\n\n# A tibble: 79 × 5\n   Start           Finish   `Name of Confl…` Belligerents Belligerents\n   <chr>           <chr>    <chr>            <chr>        <chr>       \n 1 Start           Finish   Name of Conflict Victorious … Defeated pa…\n 2 1300            1301     Second Mongol i… Myinsaing K… Yuan dynasty\n 3 1300            1300     Lembu Sora rebe… Majapahit E… Lembu Sora …\n 4 c. 14th century c. 14th… K'aissape–Hvals… Inuit under… Norsemen un…\n 5 1303            1303     Conquest of Syl… Independent… Gaur Kingdo…\n 6 1308            1308     Teutonic takeov… Teutonic Kn… Margraviate…\n 7 1309            1309     Crusade of the … Duchy of Br… Crusaders   \n 8 1311            1312     Rebellion of ma… Władysław I… Kraków      \n 9 1311            1318     Delhi–Seuna War  Delhi Sulta… Seuna Empire\n10 1314            1318     Esen Buqa–Ayurb… Yuan dynast… Chagatai Kh…\n# … with 69 more rows\n\n\n\nwars_1400s<- wars_1000s_df %>% \n  html_nodes(\"table\") %>% `[[`(6) %>% html_table()\n\n\nwars_1400s_subset <- wars_1400s[,1:5]\nwars_1400s_subset\n\n\n# A tibble: 123 × 5\n   Start Finish `Name of Conflict`           Belligerents Belligerents\n   <chr> <chr>  <chr>                        <chr>        <chr>       \n 1 Start Finish Name of Conflict             Victorious … \"Defeated p…\n 2 1400  1400   English invasion of Scotland Kingdom of … \"Kingdom of…\n 3 1400  1420   Glyndŵr Rising               Kingdom of … \"Welsh rebe…\n 4 1401  1404   First Samogitian Uprising    Teutonic St… \"Grand Duch…\n 5 1402  1402   Battle of Ankara             Timurid Emp… \"Ottoman Em…\n 6 1402  1413   Ottoman Interregnum          Faction of … \"Faction of…\n 7 1402  1496   Conquest of the Canary Isla… Union of Ca… \"Guanches\"  \n 8 1403  1403   Percy Rebellion              Kingdom of … \"English re…\n 9 1404  1406   Paregreg war                 Western cou… \"Eastern co…\n10 1405  1405   Scrope Rebellion             Kingdom of … \"English re…\n# … with 113 more rows\n\n\n\nlist_of_wars_1500 <- \"https://en.wikipedia.org/wiki/List_of_wars:_1500%E2%80%931799\"\n\nwars_1500s_df <- read_html(list_of_wars_1500) \n\nwars_1500s <- wars_1500s_df %>% \n  html_nodes(\"table\") %>% `[[`(1) %>% html_table()\n\nwars_1500s_subset <- wars_1500s[,1:5]\n\nwars_1500s_subset\n\n\n# A tibble: 160 × 5\n   Start Finish `Name of conflict`           Belligerents Belligerents\n   <chr> <chr>  <chr>                        <chr>        <chr>       \n 1 Start Finish \"Name of conflict\"           Victorious … \"Defeated p…\n 2 1500  1503   \"Second Muscovite–Lithuania… Grand Duchy… \"Grand Duch…\n 3 1500  1500   \"Battle of Hemmingstedt\"     Peasantry o… \"Kalmar Uni…\n 4 1501  1512   \"Dano-Swedish War (1501–151… Sweden Free… \"Kalmar Uni…\n 5 1502  1510   \"Persian–Uzbek wars\"         Persian Emp… \"Shaybanid …\n 6 1502  1543   \"Guelders Wars\"              Holy Roman … \"Duchy of G…\n 7 1503  1505   \"War of the Succession of L… Duchy of Ba… \"Duchy of B…\n 8 1505  1517   \"Portuguese–Mamluk naval wa… Portugal     \"Mamluk Sul…\n 9 1507  1508   \"Third Muscovite–Lithuanian… Grand Duchy… \"Grand Duch…\n10 1508  1516   \"War of the League of Cambr… 1508–10: Pa… \"1508–10: V…\n# … with 150 more rows\n\n\n\n\n",
    "preview": {},
    "last_modified": "2022-03-05T19:31:56-05:00",
    "input_file": "an-attempt-to-scrape-wikipedia.knit.md"
  },
  {
    "path": "posts/2022-03-03-text-as-data-blog-post-2/",
    "title": "Text as Data Blog Post 2",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-03-03",
    "categories": [],
    "contents": "\n\n\n\nBlog Post 2:\nQuestion: For my second blog post I will be\nobserving the content of the sub-reddit I am scraping, extracting\ninformation, and performing initial natural language processing and text\nanalysis on it.\nNavigate and describe the characteristics of the data source of your\ninterest, if you’ve specified one (or plan B). The characteristics\ninclude (1) its ‘content’ and/or (2) how it can be scraped. The\ncharacteristics include\nits ‘content’ and/or (2) how it can be scraped. I Summon up your\nknowledge of some useful packages we’ve reviewed\nand/or NLP tools in relation to your research project.\nI Summon up your knowledge of some useful packages we’ve reviewed\nand/or NLP tools in relation to your research project. Sorting out\nadjectives? Extracting major verbs or named entities? …\nInital Loading and\nProcessing\nExplanation: My code below illustrates how I\ninitially got my information from reddit by scraping. In this case I\nused RedditExtractoR. The author of this packages describes it as a\nminimalist r wrapper it scrapes a limited number of posts from reddit.\nThe api on reddit itself only allows 60 requests per minute so I will\nhave to extract the next set of data later and pick a period before my\nfirst post occured.\n\n\n#top_guns_urls <- find_thread_urls(subreddit=\"guns\", sort_by=\"top\")\n\nload(\"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/df_guns.RData\")\n\nstr(top_guns_urls)\n\ntop_guns_urls_df=top_guns_urls[,c(\"title\", \"date_utc\", \"comments\")]\ntop_guns_urls_df\n#guns_contents <- get_thread_content(top_guns_urls_df$url[1:1000])\n#str(guns_contents$threads)\n\n\n\nConversion From Data Frame\nto Corpus\nExplanation: Below I have processed my inital\ndataframe from reddit into a corpus.\n\n\ntop_guns_urls_df=top_guns_urls[,c(\"title\", \"date_utc\", \"comments\")]\n\ntop_guns_corpus<-corpus(top_guns_urls_df$title)\n\ntop_guns_documents<-top_guns_corpus[1:10,]\n\ntop_guns_corpus_summary <- summary(top_guns_corpus)\n\n\n\nPre-processing\nExplanation: Next I used the\nfactorial_preprocessing() command to both use n-grams processing and use\nan infrequent term threshold.\n\n\npreprocessed_documents <- factorial_preprocessing(\n    top_guns_corpus,\n    use_ngrams = TRUE,\n    infrequent_term_threshold = 0.2,\n    verbose = FALSE)\n\n\nPreprocessing 998 documents 128 different ways...\n\n\n\nnames(preprocessed_documents)\n\n\n[1] \"choices\"  \"dfm_list\" \"labels\"  \n\n\n\nhead(preprocessed_documents$choices)\n\n\n              removePunctuation removeNumbers lowercase stem\nP-N-L-S-W-I-3              TRUE          TRUE      TRUE TRUE\nN-L-S-W-I-3               FALSE          TRUE      TRUE TRUE\nP-L-S-W-I-3                TRUE         FALSE      TRUE TRUE\nL-S-W-I-3                 FALSE         FALSE      TRUE TRUE\nP-N-S-W-I-3                TRUE          TRUE     FALSE TRUE\nN-S-W-I-3                 FALSE          TRUE     FALSE TRUE\n              removeStopwords infrequent_terms use_ngrams\nP-N-L-S-W-I-3            TRUE             TRUE       TRUE\nN-L-S-W-I-3              TRUE             TRUE       TRUE\nP-L-S-W-I-3              TRUE             TRUE       TRUE\nL-S-W-I-3                TRUE             TRUE       TRUE\nP-N-S-W-I-3              TRUE             TRUE       TRUE\nN-S-W-I-3                TRUE             TRUE       TRUE\n\npreText Results\nExplanation: Next I used preText() to pre-process\nthe documents that I have so far to acquire pre-text scores that can\ngive me a sense of what techniques may be necessary for natural language\nprocessing as the project develops.\n\n\n#preText_results <- preText(\n#    preprocessed_documents,\n#    dataset_name = \"Gun Pretext Results\",\n#    distance_method = \"cosine\",\n#    num_comparisons = 50,\n#    verbose = TRUE)\n\n\n\nExplanation Continued: Next we look at the pre-text\nscores with 50 comparisons, which was acquired from the code above.\nBelow these are graphed with intercept.\n\n\nload(\"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/preText_results_gun_50_comps.RData\")\npreText_results\n\n\n$preText_scores\n    preText_score preprocessing_steps\n1      0.06027612       P-N-L-S-W-I-3\n2      0.11514514         N-L-S-W-I-3\n3      0.06027612         P-L-S-W-I-3\n4      0.11514514           L-S-W-I-3\n5      0.06027612         P-N-S-W-I-3\n6      0.11514514           N-S-W-I-3\n7      0.06027612           P-S-W-I-3\n8      0.11514514             S-W-I-3\n9      0.06027612         P-N-L-W-I-3\n10     0.11514514           N-L-W-I-3\n11     0.06027612           P-L-W-I-3\n12     0.11514514             L-W-I-3\n13     0.06027612           P-N-W-I-3\n14     0.11514514             N-W-I-3\n15     0.06027612             P-W-I-3\n16     0.11514514               W-I-3\n17     0.12148443         P-N-L-S-I-3\n18     0.11269453           N-L-S-I-3\n19     0.12148443           P-L-S-I-3\n20     0.11269453             L-S-I-3\n21     0.12148443           P-N-S-I-3\n22     0.11269453             N-S-I-3\n23     0.12148443             P-S-I-3\n24     0.11269453               S-I-3\n25     0.12148443           P-N-L-I-3\n26     0.11269453             N-L-I-3\n27     0.12148443             P-L-I-3\n28     0.11269453               L-I-3\n29     0.12148443             P-N-I-3\n30     0.11269453               N-I-3\n31     0.12148443               P-I-3\n32     0.11269453                 I-3\n33     0.04832774         P-N-L-S-W-3\n34     0.05870234           N-L-S-W-3\n35     0.05016423           P-L-S-W-3\n36     0.05870234             L-S-W-3\n37     0.04832774           P-N-S-W-3\n38     0.05870234             N-S-W-3\n39     0.05016423             P-S-W-3\n40     0.05870234               S-W-3\n41     0.04545867           P-N-L-W-3\n42     0.04809353             N-L-W-3\n43     0.04701070             P-L-W-3\n44     0.04809353               L-W-3\n45     0.04545867             P-N-W-3\n46     0.04809353               N-W-3\n47     0.04701070               P-W-3\n48     0.04809353                 W-3\n49     0.04373030           P-N-L-S-3\n50     0.03917853             N-L-S-3\n51     0.04519765             P-L-S-3\n52     0.04158180               L-S-3\n53     0.04373030             P-N-S-3\n54     0.03917853               N-S-3\n55     0.04519765               P-S-3\n56     0.04171593                 S-3\n57     0.04373030             P-N-L-3\n58     0.03917853               N-L-3\n59     0.04519765               P-L-3\n60     0.04174744                 L-3\n61     0.04373030               P-N-3\n62     0.03917853                 N-3\n63     0.04519765                 P-3\n64     0.04174744                   3\n65     0.06027612         P-N-L-S-W-I\n66     0.11514514           N-L-S-W-I\n67     0.06027612           P-L-S-W-I\n68     0.11514514             L-S-W-I\n69     0.06027612           P-N-S-W-I\n70     0.11514514             N-S-W-I\n71     0.06027612             P-S-W-I\n72     0.11514514               S-W-I\n73     0.06027612           P-N-L-W-I\n74     0.11514514             N-L-W-I\n75     0.06027612             P-L-W-I\n76     0.11514514               L-W-I\n77     0.06027612             P-N-W-I\n78     0.11514514               N-W-I\n79     0.06027612               P-W-I\n80     0.11514514                 W-I\n81     0.12148443           P-N-L-S-I\n82     0.11269453             N-L-S-I\n83     0.12148443             P-L-S-I\n84     0.11269453               L-S-I\n85     0.12148443             P-N-S-I\n86     0.11269453               N-S-I\n87     0.12148443               P-S-I\n88     0.11269453                 S-I\n89     0.12148443             P-N-L-I\n90     0.11269453               N-L-I\n91     0.12148443               P-L-I\n92     0.11269453                 L-I\n93     0.12148443               P-N-I\n94     0.11269453                 N-I\n95     0.12148443                 P-I\n96     0.11269453                   I\n97     0.04832774           P-N-L-S-W\n98     0.10967625             N-L-S-W\n99     0.05016423             P-L-S-W\n100    0.10577509               L-S-W\n101    0.04832774             P-N-S-W\n102    0.10279038               N-S-W\n103    0.05016423               P-S-W\n104    0.09876319                 S-W\n105    0.04545867             P-N-L-W\n106    0.04755966               N-L-W\n107    0.04701070               P-L-W\n108    0.04755966                 L-W\n109    0.04545867               P-N-W\n110    0.04755966                 N-W\n111    0.04701070                 P-W\n112    0.04755966                   W\n113    0.04313762             P-N-L-S\n114    0.17027068               N-L-S\n115    0.04553693               P-L-S\n116    0.26094816                 L-S\n117    0.04313762               P-N-S\n118    0.16421569                 N-S\n119    0.04553693                 P-S\n120    0.25780314                   S\n121    0.04313762               P-N-L\n122    0.04289388                 N-L\n123    0.04553693                 P-L\n124    0.13531564                   L\n125    0.04313762                 P-N\n126    0.04289388                   N\n127    0.04553693                   P\n\n$ranked_preText_scores\n    preText_score preprocessing_steps\n1      0.26094816                 L-S\n2      0.25780314                   S\n3      0.17027068               N-L-S\n4      0.16421569                 N-S\n5      0.13531564                   L\n6      0.12148443         P-N-L-S-I-3\n7      0.12148443           P-L-S-I-3\n8      0.12148443           P-N-S-I-3\n9      0.12148443             P-S-I-3\n10     0.12148443           P-N-L-I-3\n11     0.12148443             P-L-I-3\n12     0.12148443             P-N-I-3\n13     0.12148443               P-I-3\n14     0.12148443           P-N-L-S-I\n15     0.12148443             P-L-S-I\n16     0.12148443             P-N-S-I\n17     0.12148443               P-S-I\n18     0.12148443             P-N-L-I\n19     0.12148443               P-L-I\n20     0.12148443               P-N-I\n21     0.12148443                 P-I\n22     0.11514514         N-L-S-W-I-3\n23     0.11514514           L-S-W-I-3\n24     0.11514514           N-S-W-I-3\n25     0.11514514             S-W-I-3\n26     0.11514514           N-L-W-I-3\n27     0.11514514             L-W-I-3\n28     0.11514514             N-W-I-3\n29     0.11514514               W-I-3\n30     0.11514514           N-L-S-W-I\n31     0.11514514             L-S-W-I\n32     0.11514514             N-S-W-I\n33     0.11514514               S-W-I\n34     0.11514514             N-L-W-I\n35     0.11514514               L-W-I\n36     0.11514514               N-W-I\n37     0.11514514                 W-I\n38     0.11269453           N-L-S-I-3\n39     0.11269453             L-S-I-3\n40     0.11269453             N-S-I-3\n41     0.11269453               S-I-3\n42     0.11269453             N-L-I-3\n43     0.11269453               L-I-3\n44     0.11269453               N-I-3\n45     0.11269453                 I-3\n46     0.11269453             N-L-S-I\n47     0.11269453               L-S-I\n48     0.11269453               N-S-I\n49     0.11269453                 S-I\n50     0.11269453               N-L-I\n51     0.11269453                 L-I\n52     0.11269453                 N-I\n53     0.11269453                   I\n54     0.10967625             N-L-S-W\n55     0.10577509               L-S-W\n56     0.10279038               N-S-W\n57     0.09876319                 S-W\n58     0.06027612       P-N-L-S-W-I-3\n59     0.06027612         P-L-S-W-I-3\n60     0.06027612         P-N-S-W-I-3\n61     0.06027612           P-S-W-I-3\n62     0.06027612         P-N-L-W-I-3\n63     0.06027612           P-L-W-I-3\n64     0.06027612           P-N-W-I-3\n65     0.06027612             P-W-I-3\n66     0.06027612         P-N-L-S-W-I\n67     0.06027612           P-L-S-W-I\n68     0.06027612           P-N-S-W-I\n69     0.06027612             P-S-W-I\n70     0.06027612           P-N-L-W-I\n71     0.06027612             P-L-W-I\n72     0.06027612             P-N-W-I\n73     0.06027612               P-W-I\n74     0.05870234           N-L-S-W-3\n75     0.05870234             L-S-W-3\n76     0.05870234             N-S-W-3\n77     0.05870234               S-W-3\n78     0.05016423           P-L-S-W-3\n79     0.05016423             P-S-W-3\n80     0.05016423             P-L-S-W\n81     0.05016423               P-S-W\n82     0.04832774         P-N-L-S-W-3\n83     0.04832774           P-N-S-W-3\n84     0.04832774           P-N-L-S-W\n85     0.04832774             P-N-S-W\n86     0.04809353             N-L-W-3\n87     0.04809353               L-W-3\n88     0.04809353               N-W-3\n89     0.04809353                 W-3\n90     0.04755966               N-L-W\n91     0.04755966                 L-W\n92     0.04755966                 N-W\n93     0.04755966                   W\n94     0.04701070             P-L-W-3\n95     0.04701070               P-W-3\n96     0.04701070               P-L-W\n97     0.04701070                 P-W\n98     0.04553693               P-L-S\n99     0.04553693                 P-S\n100    0.04553693                 P-L\n101    0.04553693                   P\n102    0.04545867           P-N-L-W-3\n103    0.04545867             P-N-W-3\n104    0.04545867             P-N-L-W\n105    0.04545867               P-N-W\n106    0.04519765             P-L-S-3\n107    0.04519765               P-S-3\n108    0.04519765               P-L-3\n109    0.04519765                 P-3\n110    0.04373030           P-N-L-S-3\n111    0.04373030             P-N-S-3\n112    0.04373030             P-N-L-3\n113    0.04373030               P-N-3\n114    0.04313762             P-N-L-S\n115    0.04313762               P-N-S\n116    0.04313762               P-N-L\n117    0.04313762                 P-N\n118    0.04289388                 N-L\n119    0.04289388                   N\n120    0.04174744                 L-3\n121    0.04174744                   3\n122    0.04171593                 S-3\n123    0.04158180               L-S-3\n124    0.03917853             N-L-S-3\n125    0.03917853               N-S-3\n126    0.03917853               N-L-3\n127    0.03917853                 N-3\n\n$choices\n              removePunctuation removeNumbers lowercase  stem\nP-N-L-S-W-I-3              TRUE          TRUE      TRUE  TRUE\nN-L-S-W-I-3               FALSE          TRUE      TRUE  TRUE\nP-L-S-W-I-3                TRUE         FALSE      TRUE  TRUE\nL-S-W-I-3                 FALSE         FALSE      TRUE  TRUE\nP-N-S-W-I-3                TRUE          TRUE     FALSE  TRUE\nN-S-W-I-3                 FALSE          TRUE     FALSE  TRUE\nP-S-W-I-3                  TRUE         FALSE     FALSE  TRUE\nS-W-I-3                   FALSE         FALSE     FALSE  TRUE\nP-N-L-W-I-3                TRUE          TRUE      TRUE FALSE\nN-L-W-I-3                 FALSE          TRUE      TRUE FALSE\nP-L-W-I-3                  TRUE         FALSE      TRUE FALSE\nL-W-I-3                   FALSE         FALSE      TRUE FALSE\nP-N-W-I-3                  TRUE          TRUE     FALSE FALSE\nN-W-I-3                   FALSE          TRUE     FALSE FALSE\nP-W-I-3                    TRUE         FALSE     FALSE FALSE\nW-I-3                     FALSE         FALSE     FALSE FALSE\nP-N-L-S-I-3                TRUE          TRUE      TRUE  TRUE\nN-L-S-I-3                 FALSE          TRUE      TRUE  TRUE\nP-L-S-I-3                  TRUE         FALSE      TRUE  TRUE\nL-S-I-3                   FALSE         FALSE      TRUE  TRUE\nP-N-S-I-3                  TRUE          TRUE     FALSE  TRUE\nN-S-I-3                   FALSE          TRUE     FALSE  TRUE\nP-S-I-3                    TRUE         FALSE     FALSE  TRUE\nS-I-3                     FALSE         FALSE     FALSE  TRUE\nP-N-L-I-3                  TRUE          TRUE      TRUE FALSE\nN-L-I-3                   FALSE          TRUE      TRUE FALSE\nP-L-I-3                    TRUE         FALSE      TRUE FALSE\nL-I-3                     FALSE         FALSE      TRUE FALSE\nP-N-I-3                    TRUE          TRUE     FALSE FALSE\nN-I-3                     FALSE          TRUE     FALSE FALSE\nP-I-3                      TRUE         FALSE     FALSE FALSE\nI-3                       FALSE         FALSE     FALSE FALSE\nP-N-L-S-W-3                TRUE          TRUE      TRUE  TRUE\nN-L-S-W-3                 FALSE          TRUE      TRUE  TRUE\nP-L-S-W-3                  TRUE         FALSE      TRUE  TRUE\nL-S-W-3                   FALSE         FALSE      TRUE  TRUE\nP-N-S-W-3                  TRUE          TRUE     FALSE  TRUE\nN-S-W-3                   FALSE          TRUE     FALSE  TRUE\nP-S-W-3                    TRUE         FALSE     FALSE  TRUE\nS-W-3                     FALSE         FALSE     FALSE  TRUE\nP-N-L-W-3                  TRUE          TRUE      TRUE FALSE\nN-L-W-3                   FALSE          TRUE      TRUE FALSE\nP-L-W-3                    TRUE         FALSE      TRUE FALSE\nL-W-3                     FALSE         FALSE      TRUE FALSE\nP-N-W-3                    TRUE          TRUE     FALSE FALSE\nN-W-3                     FALSE          TRUE     FALSE FALSE\nP-W-3                      TRUE         FALSE     FALSE FALSE\nW-3                       FALSE         FALSE     FALSE FALSE\nP-N-L-S-3                  TRUE          TRUE      TRUE  TRUE\nN-L-S-3                   FALSE          TRUE      TRUE  TRUE\nP-L-S-3                    TRUE         FALSE      TRUE  TRUE\nL-S-3                     FALSE         FALSE      TRUE  TRUE\nP-N-S-3                    TRUE          TRUE     FALSE  TRUE\nN-S-3                     FALSE          TRUE     FALSE  TRUE\nP-S-3                      TRUE         FALSE     FALSE  TRUE\nS-3                       FALSE         FALSE     FALSE  TRUE\nP-N-L-3                    TRUE          TRUE      TRUE FALSE\nN-L-3                     FALSE          TRUE      TRUE FALSE\nP-L-3                      TRUE         FALSE      TRUE FALSE\nL-3                       FALSE         FALSE      TRUE FALSE\nP-N-3                      TRUE          TRUE     FALSE FALSE\nN-3                       FALSE          TRUE     FALSE FALSE\nP-3                        TRUE         FALSE     FALSE FALSE\n3                         FALSE         FALSE     FALSE FALSE\nP-N-L-S-W-I                TRUE          TRUE      TRUE  TRUE\nN-L-S-W-I                 FALSE          TRUE      TRUE  TRUE\nP-L-S-W-I                  TRUE         FALSE      TRUE  TRUE\nL-S-W-I                   FALSE         FALSE      TRUE  TRUE\nP-N-S-W-I                  TRUE          TRUE     FALSE  TRUE\nN-S-W-I                   FALSE          TRUE     FALSE  TRUE\nP-S-W-I                    TRUE         FALSE     FALSE  TRUE\nS-W-I                     FALSE         FALSE     FALSE  TRUE\nP-N-L-W-I                  TRUE          TRUE      TRUE FALSE\nN-L-W-I                   FALSE          TRUE      TRUE FALSE\nP-L-W-I                    TRUE         FALSE      TRUE FALSE\nL-W-I                     FALSE         FALSE      TRUE FALSE\nP-N-W-I                    TRUE          TRUE     FALSE FALSE\nN-W-I                     FALSE          TRUE     FALSE FALSE\nP-W-I                      TRUE         FALSE     FALSE FALSE\nW-I                       FALSE         FALSE     FALSE FALSE\nP-N-L-S-I                  TRUE          TRUE      TRUE  TRUE\nN-L-S-I                   FALSE          TRUE      TRUE  TRUE\nP-L-S-I                    TRUE         FALSE      TRUE  TRUE\nL-S-I                     FALSE         FALSE      TRUE  TRUE\nP-N-S-I                    TRUE          TRUE     FALSE  TRUE\nN-S-I                     FALSE          TRUE     FALSE  TRUE\nP-S-I                      TRUE         FALSE     FALSE  TRUE\nS-I                       FALSE         FALSE     FALSE  TRUE\nP-N-L-I                    TRUE          TRUE      TRUE FALSE\nN-L-I                     FALSE          TRUE      TRUE FALSE\nP-L-I                      TRUE         FALSE      TRUE FALSE\nL-I                       FALSE         FALSE      TRUE FALSE\nP-N-I                      TRUE          TRUE     FALSE FALSE\nN-I                       FALSE          TRUE     FALSE FALSE\nP-I                        TRUE         FALSE     FALSE FALSE\nI                         FALSE         FALSE     FALSE FALSE\nP-N-L-S-W                  TRUE          TRUE      TRUE  TRUE\nN-L-S-W                   FALSE          TRUE      TRUE  TRUE\nP-L-S-W                    TRUE         FALSE      TRUE  TRUE\nL-S-W                     FALSE         FALSE      TRUE  TRUE\nP-N-S-W                    TRUE          TRUE     FALSE  TRUE\nN-S-W                     FALSE          TRUE     FALSE  TRUE\nP-S-W                      TRUE         FALSE     FALSE  TRUE\nS-W                       FALSE         FALSE     FALSE  TRUE\nP-N-L-W                    TRUE          TRUE      TRUE FALSE\nN-L-W                     FALSE          TRUE      TRUE FALSE\nP-L-W                      TRUE         FALSE      TRUE FALSE\nL-W                       FALSE         FALSE      TRUE FALSE\nP-N-W                      TRUE          TRUE     FALSE FALSE\nN-W                       FALSE          TRUE     FALSE FALSE\nP-W                        TRUE         FALSE     FALSE FALSE\nW                         FALSE         FALSE     FALSE FALSE\nP-N-L-S                    TRUE          TRUE      TRUE  TRUE\nN-L-S                     FALSE          TRUE      TRUE  TRUE\nP-L-S                      TRUE         FALSE      TRUE  TRUE\nL-S                       FALSE         FALSE      TRUE  TRUE\nP-N-S                      TRUE          TRUE     FALSE  TRUE\nN-S                       FALSE          TRUE     FALSE  TRUE\nP-S                        TRUE         FALSE     FALSE  TRUE\nS                         FALSE         FALSE     FALSE  TRUE\nP-N-L                      TRUE          TRUE      TRUE FALSE\nN-L                       FALSE          TRUE      TRUE FALSE\nP-L                        TRUE         FALSE      TRUE FALSE\nL                         FALSE         FALSE      TRUE FALSE\nP-N                        TRUE          TRUE     FALSE FALSE\nN                         FALSE          TRUE     FALSE FALSE\nP                          TRUE         FALSE     FALSE FALSE\n                          FALSE         FALSE     FALSE FALSE\n              removeStopwords infrequent_terms use_ngrams\nP-N-L-S-W-I-3            TRUE             TRUE       TRUE\nN-L-S-W-I-3              TRUE             TRUE       TRUE\nP-L-S-W-I-3              TRUE             TRUE       TRUE\nL-S-W-I-3                TRUE             TRUE       TRUE\nP-N-S-W-I-3              TRUE             TRUE       TRUE\nN-S-W-I-3                TRUE             TRUE       TRUE\nP-S-W-I-3                TRUE             TRUE       TRUE\nS-W-I-3                  TRUE             TRUE       TRUE\nP-N-L-W-I-3              TRUE             TRUE       TRUE\nN-L-W-I-3                TRUE             TRUE       TRUE\nP-L-W-I-3                TRUE             TRUE       TRUE\nL-W-I-3                  TRUE             TRUE       TRUE\nP-N-W-I-3                TRUE             TRUE       TRUE\nN-W-I-3                  TRUE             TRUE       TRUE\nP-W-I-3                  TRUE             TRUE       TRUE\nW-I-3                    TRUE             TRUE       TRUE\nP-N-L-S-I-3             FALSE             TRUE       TRUE\nN-L-S-I-3               FALSE             TRUE       TRUE\nP-L-S-I-3               FALSE             TRUE       TRUE\nL-S-I-3                 FALSE             TRUE       TRUE\nP-N-S-I-3               FALSE             TRUE       TRUE\nN-S-I-3                 FALSE             TRUE       TRUE\nP-S-I-3                 FALSE             TRUE       TRUE\nS-I-3                   FALSE             TRUE       TRUE\nP-N-L-I-3               FALSE             TRUE       TRUE\nN-L-I-3                 FALSE             TRUE       TRUE\nP-L-I-3                 FALSE             TRUE       TRUE\nL-I-3                   FALSE             TRUE       TRUE\nP-N-I-3                 FALSE             TRUE       TRUE\nN-I-3                   FALSE             TRUE       TRUE\nP-I-3                   FALSE             TRUE       TRUE\nI-3                     FALSE             TRUE       TRUE\nP-N-L-S-W-3              TRUE            FALSE       TRUE\nN-L-S-W-3                TRUE            FALSE       TRUE\nP-L-S-W-3                TRUE            FALSE       TRUE\nL-S-W-3                  TRUE            FALSE       TRUE\nP-N-S-W-3                TRUE            FALSE       TRUE\nN-S-W-3                  TRUE            FALSE       TRUE\nP-S-W-3                  TRUE            FALSE       TRUE\nS-W-3                    TRUE            FALSE       TRUE\nP-N-L-W-3                TRUE            FALSE       TRUE\nN-L-W-3                  TRUE            FALSE       TRUE\nP-L-W-3                  TRUE            FALSE       TRUE\nL-W-3                    TRUE            FALSE       TRUE\nP-N-W-3                  TRUE            FALSE       TRUE\nN-W-3                    TRUE            FALSE       TRUE\nP-W-3                    TRUE            FALSE       TRUE\nW-3                      TRUE            FALSE       TRUE\nP-N-L-S-3               FALSE            FALSE       TRUE\nN-L-S-3                 FALSE            FALSE       TRUE\nP-L-S-3                 FALSE            FALSE       TRUE\nL-S-3                   FALSE            FALSE       TRUE\nP-N-S-3                 FALSE            FALSE       TRUE\nN-S-3                   FALSE            FALSE       TRUE\nP-S-3                   FALSE            FALSE       TRUE\nS-3                     FALSE            FALSE       TRUE\nP-N-L-3                 FALSE            FALSE       TRUE\nN-L-3                   FALSE            FALSE       TRUE\nP-L-3                   FALSE            FALSE       TRUE\nL-3                     FALSE            FALSE       TRUE\nP-N-3                   FALSE            FALSE       TRUE\nN-3                     FALSE            FALSE       TRUE\nP-3                     FALSE            FALSE       TRUE\n3                       FALSE            FALSE       TRUE\nP-N-L-S-W-I              TRUE             TRUE      FALSE\nN-L-S-W-I                TRUE             TRUE      FALSE\nP-L-S-W-I                TRUE             TRUE      FALSE\nL-S-W-I                  TRUE             TRUE      FALSE\nP-N-S-W-I                TRUE             TRUE      FALSE\nN-S-W-I                  TRUE             TRUE      FALSE\nP-S-W-I                  TRUE             TRUE      FALSE\nS-W-I                    TRUE             TRUE      FALSE\nP-N-L-W-I                TRUE             TRUE      FALSE\nN-L-W-I                  TRUE             TRUE      FALSE\nP-L-W-I                  TRUE             TRUE      FALSE\nL-W-I                    TRUE             TRUE      FALSE\nP-N-W-I                  TRUE             TRUE      FALSE\nN-W-I                    TRUE             TRUE      FALSE\nP-W-I                    TRUE             TRUE      FALSE\nW-I                      TRUE             TRUE      FALSE\nP-N-L-S-I               FALSE             TRUE      FALSE\nN-L-S-I                 FALSE             TRUE      FALSE\nP-L-S-I                 FALSE             TRUE      FALSE\nL-S-I                   FALSE             TRUE      FALSE\nP-N-S-I                 FALSE             TRUE      FALSE\nN-S-I                   FALSE             TRUE      FALSE\nP-S-I                   FALSE             TRUE      FALSE\nS-I                     FALSE             TRUE      FALSE\nP-N-L-I                 FALSE             TRUE      FALSE\nN-L-I                   FALSE             TRUE      FALSE\nP-L-I                   FALSE             TRUE      FALSE\nL-I                     FALSE             TRUE      FALSE\nP-N-I                   FALSE             TRUE      FALSE\nN-I                     FALSE             TRUE      FALSE\nP-I                     FALSE             TRUE      FALSE\nI                       FALSE             TRUE      FALSE\nP-N-L-S-W                TRUE            FALSE      FALSE\nN-L-S-W                  TRUE            FALSE      FALSE\nP-L-S-W                  TRUE            FALSE      FALSE\nL-S-W                    TRUE            FALSE      FALSE\nP-N-S-W                  TRUE            FALSE      FALSE\nN-S-W                    TRUE            FALSE      FALSE\nP-S-W                    TRUE            FALSE      FALSE\nS-W                      TRUE            FALSE      FALSE\nP-N-L-W                  TRUE            FALSE      FALSE\nN-L-W                    TRUE            FALSE      FALSE\nP-L-W                    TRUE            FALSE      FALSE\nL-W                      TRUE            FALSE      FALSE\nP-N-W                    TRUE            FALSE      FALSE\nN-W                      TRUE            FALSE      FALSE\nP-W                      TRUE            FALSE      FALSE\nW                        TRUE            FALSE      FALSE\nP-N-L-S                 FALSE            FALSE      FALSE\nN-L-S                   FALSE            FALSE      FALSE\nP-L-S                   FALSE            FALSE      FALSE\nL-S                     FALSE            FALSE      FALSE\nP-N-S                   FALSE            FALSE      FALSE\nN-S                     FALSE            FALSE      FALSE\nP-S                     FALSE            FALSE      FALSE\nS                       FALSE            FALSE      FALSE\nP-N-L                   FALSE            FALSE      FALSE\nN-L                     FALSE            FALSE      FALSE\nP-L                     FALSE            FALSE      FALSE\nL                       FALSE            FALSE      FALSE\nP-N                     FALSE            FALSE      FALSE\nN                       FALSE            FALSE      FALSE\nP                       FALSE            FALSE      FALSE\n                        FALSE            FALSE      FALSE\n\n$regression_results\n   Coefficient          SE                Variable\n1  0.090581587 0.007949836               Intercept\n2 -0.027904170 0.005465512      Remove Punctuation\n3 -0.005555395 0.005465512          Remove Numbers\n4  0.001057777 0.005465512               Lowercase\n5  0.013041366 0.005465512                Stemming\n6 -0.020948285 0.005465512        Remove Stopwords\n7  0.039945185 0.005465512 Remove Infrequent Terms\n8 -0.015944725 0.005465512              Use NGrams\n                Model\n1 Gun Pretext Results\n2 Gun Pretext Results\n3 Gun Pretext Results\n4 Gun Pretext Results\n5 Gun Pretext Results\n6 Gun Pretext Results\n7 Gun Pretext Results\n8 Gun Pretext Results\n\npreText_score_plot(preText_results)\n\n\n\n\nThe lowest score with intercepts according to the graph is N-3 which\nremoves numbers, and uses n-grams. This plot represents the potential\nrisk of using more complex pre-processing at the pre-text score goes up\nbut may remove more information. The highest score belongs to L-S which\nis lowercased and stemmed which is quite risky to do.\nExplanation Continued: Looking at the regression\ncoefficients we see negative scores as usual results and positive\ncoefficients as unusual ones. In this case removing puncuation,\nstopwords, and n-grams would not lead to a great deal of\nabnormalilty.\n\n\nregression_coefficient_plot(preText_results,\n                            remove_intercept = TRUE)\n\n\n\n\nTokens and Corpus Work\n\n\ntop_guns_tokens <- tokens(top_guns_corpus)\n\nprint(top_guns_tokens)\n\n\nTokens consisting of 998 documents.\ntext1 :\n[1] \"Smith\"    \"and\"      \"Wesson\"   \"Saturday\" \"anyone\"   \"?\"       \n\ntext2 :\n[1] \"My\"       \"two\"      \"favorite\" \"9mm\"      \"s\"       \n\ntext3 :\n [1] \"My\"       \"Arex\"     \"Zero\"     \"1\"        \"Tactical\" \"w\"       \n [7] \"/\"        \"a\"        \"Trijicon\" \"RMR\"      \",\"        \"Viridian\"\n[ ... and 8 more ]\n\ntext4 :\n [1] \"Opinion\" \"of\"      \"the\"     \"fnx9\"    \"?\"       \"Already\"\n [7] \"have\"    \"an\"      \"xd\"      \"and\"     \"a\"       \"p320\"   \n[ ... and 10 more ]\n\ntext5 :\n[1] \"Howa\" \"1500\" \"in\"   \".\"    \"308\" \n\ntext6 :\n[1] \"A\"          \"little\"     \"before\"     \"and\"        \"after\"     \n[6] \"comparison\" \".\"         \n\n[ reached max_ndoc ... 992 more documents ]\n\ntop_guns_tokens_no_punct <- tokens(top_guns_corpus, \n    remove_punct = T)\n\nprint(top_guns_tokens_no_punct)\n\n\nTokens consisting of 998 documents.\ntext1 :\n[1] \"Smith\"    \"and\"      \"Wesson\"   \"Saturday\" \"anyone\"  \n\ntext2 :\n[1] \"My\"       \"two\"      \"favorite\" \"9mm\"      \"s\"       \n\ntext3 :\n [1] \"My\"       \"Arex\"     \"Zero\"     \"1\"        \"Tactical\" \"w\"       \n [7] \"a\"        \"Trijicon\" \"RMR\"      \"Viridian\" \"XL5\"      \"Gen\"     \n[ ... and 5 more ]\n\ntext4 :\n [1] \"Opinion\" \"of\"      \"the\"     \"fnx9\"    \"Already\" \"have\"   \n [7] \"an\"      \"xd\"      \"and\"     \"a\"       \"p320\"    \"m18\"    \n[ ... and 6 more ]\n\ntext5 :\n[1] \"Howa\" \"1500\" \"in\"   \"308\" \n\ntext6 :\n[1] \"A\"          \"little\"     \"before\"     \"and\"        \"after\"     \n[6] \"comparison\"\n\n[ reached max_ndoc ... 992 more documents ]\n\n\n\ntop_guns_tokens_no_punct_no_upper <- tokens_tolower(top_guns_tokens_no_punct)\n\nprint(top_guns_tokens_no_punct_no_upper)\n\n\nTokens consisting of 998 documents.\ntext1 :\n[1] \"smith\"    \"and\"      \"wesson\"   \"saturday\" \"anyone\"  \n\ntext2 :\n[1] \"my\"       \"two\"      \"favorite\" \"9mm\"      \"s\"       \n\ntext3 :\n [1] \"my\"       \"arex\"     \"zero\"     \"1\"        \"tactical\" \"w\"       \n [7] \"a\"        \"trijicon\" \"rmr\"      \"viridian\" \"xl5\"      \"gen\"     \n[ ... and 5 more ]\n\ntext4 :\n [1] \"opinion\" \"of\"      \"the\"     \"fnx9\"    \"already\" \"have\"   \n [7] \"an\"      \"xd\"      \"and\"     \"a\"       \"p320\"    \"m18\"    \n[ ... and 6 more ]\n\ntext5 :\n[1] \"howa\" \"1500\" \"in\"   \"308\" \n\ntext6 :\n[1] \"a\"          \"little\"     \"before\"     \"and\"        \"after\"     \n[6] \"comparison\"\n\n[ reached max_ndoc ... 992 more documents ]\n\n\n\ntop_guns_tokens_no_punct_no_upper_no_stop <-    tokens_select(top_guns_tokens_no_punct_no_upper, pattern = stopwords(\"en\"), selection = \"remove\")\n\nlength(top_guns_tokens_no_punct_no_upper_no_stop)\n\n\n[1] 998\n\nprint(top_guns_tokens_no_punct_no_upper_no_stop)\n\n\nTokens consisting of 998 documents.\ntext1 :\n[1] \"smith\"    \"wesson\"   \"saturday\" \"anyone\"  \n\ntext2 :\n[1] \"two\"      \"favorite\" \"9mm\"      \"s\"       \n\ntext3 :\n [1] \"arex\"     \"zero\"     \"1\"        \"tactical\" \"w\"        \"trijicon\"\n [7] \"rmr\"      \"viridian\" \"xl5\"      \"gen\"      \"3\"        \"hogue\"   \n[ ... and 2 more ]\n\ntext4 :\n [1] \"opinion\"     \"fnx9\"        \"already\"     \"xd\"         \n [5] \"p320\"        \"m18\"         \"sa\"          \"da\"         \n [9] \"interesting\" \"sure\"       \n\ntext5 :\n[1] \"howa\" \"1500\" \"308\" \n\ntext6 :\n[1] \"little\"     \"comparison\"\n\n[ reached max_ndoc ... 992 more documents ]\n\n\n\ncnlp_init_udpipe()\n\ntext_for_top_guns <- as.character(top_guns_corpus)\n\ntop_guns_corpus_2 <- docvars(top_guns_corpus)\n\ntop_guns_corpus_2$text <- text_for_top_guns\n\nannotated.guns_corpus <- cnlp_annotate(top_guns_corpus_2)\n\n\nProcessed document 10 of 998\nProcessed document 20 of 998\nProcessed document 30 of 998\nProcessed document 40 of 998\nProcessed document 50 of 998\nProcessed document 60 of 998\nProcessed document 70 of 998\nProcessed document 80 of 998\nProcessed document 90 of 998\nProcessed document 100 of 998\nProcessed document 110 of 998\nProcessed document 120 of 998\nProcessed document 130 of 998\nProcessed document 140 of 998\nProcessed document 150 of 998\nProcessed document 160 of 998\nProcessed document 170 of 998\nProcessed document 180 of 998\nProcessed document 190 of 998\nProcessed document 200 of 998\nProcessed document 210 of 998\nProcessed document 220 of 998\nProcessed document 230 of 998\nProcessed document 240 of 998\nProcessed document 250 of 998\nProcessed document 260 of 998\nProcessed document 270 of 998\nProcessed document 280 of 998\nProcessed document 290 of 998\nProcessed document 300 of 998\nProcessed document 310 of 998\nProcessed document 320 of 998\nProcessed document 330 of 998\nProcessed document 340 of 998\nProcessed document 350 of 998\nProcessed document 360 of 998\nProcessed document 370 of 998\nProcessed document 380 of 998\nProcessed document 390 of 998\nProcessed document 400 of 998\nProcessed document 410 of 998\nProcessed document 420 of 998\nProcessed document 430 of 998\nProcessed document 440 of 998\nProcessed document 450 of 998\nProcessed document 460 of 998\nProcessed document 470 of 998\nProcessed document 480 of 998\nProcessed document 490 of 998\nProcessed document 500 of 998\nProcessed document 510 of 998\nProcessed document 520 of 998\nProcessed document 530 of 998\nProcessed document 540 of 998\nProcessed document 550 of 998\nProcessed document 560 of 998\nProcessed document 570 of 998\nProcessed document 580 of 998\nProcessed document 590 of 998\nProcessed document 600 of 998\nProcessed document 610 of 998\nProcessed document 620 of 998\nProcessed document 630 of 998\nProcessed document 640 of 998\nProcessed document 650 of 998\nProcessed document 660 of 998\nProcessed document 670 of 998\nProcessed document 680 of 998\nProcessed document 690 of 998\nProcessed document 700 of 998\nProcessed document 710 of 998\nProcessed document 720 of 998\nProcessed document 730 of 998\nProcessed document 740 of 998\nProcessed document 750 of 998\nProcessed document 760 of 998\nProcessed document 770 of 998\nProcessed document 780 of 998\nProcessed document 790 of 998\nProcessed document 800 of 998\nProcessed document 810 of 998\nProcessed document 820 of 998\nProcessed document 830 of 998\nProcessed document 840 of 998\nProcessed document 850 of 998\nProcessed document 860 of 998\nProcessed document 870 of 998\nProcessed document 880 of 998\nProcessed document 890 of 998\nProcessed document 900 of 998\nProcessed document 910 of 998\nProcessed document 920 of 998\nProcessed document 930 of 998\nProcessed document 940 of 998\nProcessed document 950 of 998\nProcessed document 960 of 998\nProcessed document 970 of 998\nProcessed document 980 of 998\nProcessed document 990 of 998\n\n\n\ntop_guns_corpus_tokens <- tokens(top_guns_corpus)\n\nprint(top_guns_corpus_tokens)\n\n\nTokens consisting of 998 documents.\ntext1 :\n[1] \"Smith\"    \"and\"      \"Wesson\"   \"Saturday\" \"anyone\"   \"?\"       \n\ntext2 :\n[1] \"My\"       \"two\"      \"favorite\" \"9mm\"      \"s\"       \n\ntext3 :\n [1] \"My\"       \"Arex\"     \"Zero\"     \"1\"        \"Tactical\" \"w\"       \n [7] \"/\"        \"a\"        \"Trijicon\" \"RMR\"      \",\"        \"Viridian\"\n[ ... and 8 more ]\n\ntext4 :\n [1] \"Opinion\" \"of\"      \"the\"     \"fnx9\"    \"?\"       \"Already\"\n [7] \"have\"    \"an\"      \"xd\"      \"and\"     \"a\"       \"p320\"   \n[ ... and 10 more ]\n\ntext5 :\n[1] \"Howa\" \"1500\" \"in\"   \".\"    \"308\" \n\ntext6 :\n[1] \"A\"          \"little\"     \"before\"     \"and\"        \"after\"     \n[6] \"comparison\" \".\"         \n\n[ reached max_ndoc ... 992 more documents ]\n\n\n\nhead(annotated.guns_corpus$token)\n\n\n# A tibble: 6 × 11\n  doc_id   sid tid   token    token_with_ws lemma    upos  xpos  feats\n   <int> <int> <chr> <chr>    <chr>         <chr>    <chr> <chr> <chr>\n1      1     1 1     Smith    \"Smith \"      Smith    PROPN NNP   Numb…\n2      1     1 2     and      \"and \"        and      CCONJ CC    <NA> \n3      1     1 3     Wesson   \"Wesson \"     Wesson   PROPN NNP   Numb…\n4      1     1 4     Saturday \"Saturday \"   Saturday PROPN NNP   Numb…\n5      1     1 5     anyone   \"anyone\"      anyone   PRON  NN    Numb…\n6      1     1 6     ?        \"?\"           ?        PUNCT .     <NA> \n# … with 2 more variables: tid_source <chr>, relation <chr>\n\nhead(annotated.guns_corpus$document)\n\n\n  doc_id\n1      1\n2      2\n3      3\n4      4\n5      5\n6      6\n\ndoc_id_guns<-annotated.guns_corpus$document\ndoc_id_guns\n\n\n    doc_id\n1        1\n2        2\n3        3\n4        4\n5        5\n6        6\n7        7\n8        8\n9        9\n10      10\n11      11\n12      12\n13      13\n14      14\n15      15\n16      16\n17      17\n18      18\n19      19\n20      20\n21      21\n22      22\n23      23\n24      24\n25      25\n26      26\n27      27\n28      28\n29      29\n30      30\n31      31\n32      32\n33      33\n34      34\n35      35\n36      36\n37      37\n38      38\n39      39\n40      40\n41      41\n42      42\n43      43\n44      44\n45      45\n46      46\n47      47\n48      48\n49      49\n50      50\n51      51\n52      52\n53      53\n54      54\n55      55\n56      56\n57      57\n58      58\n59      59\n60      60\n61      61\n62      62\n63      63\n64      64\n65      65\n66      66\n67      67\n68      68\n69      69\n70      70\n71      71\n72      72\n73      73\n74      74\n75      75\n76      76\n77      77\n78      78\n79      79\n80      80\n81      81\n82      82\n83      83\n84      84\n85      85\n86      86\n87      87\n88      88\n89      89\n90      90\n91      91\n92      92\n93      93\n94      94\n95      95\n96      96\n97      97\n98      98\n99      99\n100    100\n101    101\n102    102\n103    103\n104    104\n105    105\n106    106\n107    107\n108    108\n109    109\n110    110\n111    111\n112    112\n113    113\n114    114\n115    115\n116    116\n117    117\n118    118\n119    119\n120    120\n121    121\n122    122\n123    123\n124    124\n125    125\n126    126\n127    127\n128    128\n129    129\n130    130\n131    131\n132    132\n133    133\n134    134\n135    135\n136    136\n137    137\n138    138\n139    139\n140    140\n141    141\n142    142\n143    143\n144    144\n145    145\n146    146\n147    147\n148    148\n149    149\n150    150\n151    151\n152    152\n153    153\n154    154\n155    155\n156    156\n157    157\n158    158\n159    159\n160    160\n161    161\n162    162\n163    163\n164    164\n165    165\n166    166\n167    167\n168    168\n169    169\n170    170\n171    171\n172    172\n173    173\n174    174\n175    175\n176    176\n177    177\n178    178\n179    179\n180    180\n181    181\n182    182\n183    183\n184    184\n185    185\n186    186\n187    187\n188    188\n189    189\n190    190\n191    191\n192    192\n193    193\n194    194\n195    195\n196    196\n197    197\n198    198\n199    199\n200    200\n201    201\n202    202\n203    203\n204    204\n205    205\n206    206\n207    207\n208    208\n209    209\n210    210\n211    211\n212    212\n213    213\n214    214\n215    215\n216    216\n217    217\n218    218\n219    219\n220    220\n221    221\n222    222\n223    223\n224    224\n225    225\n226    226\n227    227\n228    228\n229    229\n230    230\n231    231\n232    232\n233    233\n234    234\n235    235\n236    236\n237    237\n238    238\n239    239\n240    240\n241    241\n242    242\n243    243\n244    244\n245    245\n246    246\n247    247\n248    248\n249    249\n250    250\n251    251\n252    252\n253    253\n254    254\n255    255\n256    256\n257    257\n258    258\n259    259\n260    260\n261    261\n262    262\n263    263\n264    264\n265    265\n266    266\n267    267\n268    268\n269    269\n270    270\n271    271\n272    272\n273    273\n274    274\n275    275\n276    276\n277    277\n278    278\n279    279\n280    280\n281    281\n282    282\n283    283\n284    284\n285    285\n286    286\n287    287\n288    288\n289    289\n290    290\n291    291\n292    292\n293    293\n294    294\n295    295\n296    296\n297    297\n298    298\n299    299\n300    300\n301    301\n302    302\n303    303\n304    304\n305    305\n306    306\n307    307\n308    308\n309    309\n310    310\n311    311\n312    312\n313    313\n314    314\n315    315\n316    316\n317    317\n318    318\n319    319\n320    320\n321    321\n322    322\n323    323\n324    324\n325    325\n326    326\n327    327\n328    328\n329    329\n330    330\n331    331\n332    332\n333    333\n334    334\n335    335\n336    336\n337    337\n338    338\n339    339\n340    340\n341    341\n342    342\n343    343\n344    344\n345    345\n346    346\n347    347\n348    348\n349    349\n350    350\n351    351\n352    352\n353    353\n354    354\n355    355\n356    356\n357    357\n358    358\n359    359\n360    360\n361    361\n362    362\n363    363\n364    364\n365    365\n366    366\n367    367\n368    368\n369    369\n370    370\n371    371\n372    372\n373    373\n374    374\n375    375\n376    376\n377    377\n378    378\n379    379\n380    380\n381    381\n382    382\n383    383\n384    384\n385    385\n386    386\n387    387\n388    388\n389    389\n390    390\n391    391\n392    392\n393    393\n394    394\n395    395\n396    396\n397    397\n398    398\n399    399\n400    400\n401    401\n402    402\n403    403\n404    404\n405    405\n406    406\n407    407\n408    408\n409    409\n410    410\n411    411\n412    412\n413    413\n414    414\n415    415\n416    416\n417    417\n418    418\n419    419\n420    420\n421    421\n422    422\n423    423\n424    424\n425    425\n426    426\n427    427\n428    428\n429    429\n430    430\n431    431\n432    432\n433    433\n434    434\n435    435\n436    436\n437    437\n438    438\n439    439\n440    440\n441    441\n442    442\n443    443\n444    444\n445    445\n446    446\n447    447\n448    448\n449    449\n450    450\n451    451\n452    452\n453    453\n454    454\n455    455\n456    456\n457    457\n458    458\n459    459\n460    460\n461    461\n462    462\n463    463\n464    464\n465    465\n466    466\n467    467\n468    468\n469    469\n470    470\n471    471\n472    472\n473    473\n474    474\n475    475\n476    476\n477    477\n478    478\n479    479\n480    480\n481    481\n482    482\n483    483\n484    484\n485    485\n486    486\n487    487\n488    488\n489    489\n490    490\n491    491\n492    492\n493    493\n494    494\n495    495\n496    496\n497    497\n498    498\n499    499\n500    500\n501    501\n502    502\n503    503\n504    504\n505    505\n506    506\n507    507\n508    508\n509    509\n510    510\n511    511\n512    512\n513    513\n514    514\n515    515\n516    516\n517    517\n518    518\n519    519\n520    520\n521    521\n522    522\n523    523\n524    524\n525    525\n526    526\n527    527\n528    528\n529    529\n530    530\n531    531\n532    532\n533    533\n534    534\n535    535\n536    536\n537    537\n538    538\n539    539\n540    540\n541    541\n542    542\n543    543\n544    544\n545    545\n546    546\n547    547\n548    548\n549    549\n550    550\n551    551\n552    552\n553    553\n554    554\n555    555\n556    556\n557    557\n558    558\n559    559\n560    560\n561    561\n562    562\n563    563\n564    564\n565    565\n566    566\n567    567\n568    568\n569    569\n570    570\n571    571\n572    572\n573    573\n574    574\n575    575\n576    576\n577    577\n578    578\n579    579\n580    580\n581    581\n582    582\n583    583\n584    584\n585    585\n586    586\n587    587\n588    588\n589    589\n590    590\n591    591\n592    592\n593    593\n594    594\n595    595\n596    596\n597    597\n598    598\n599    599\n600    600\n601    601\n602    602\n603    603\n604    604\n605    605\n606    606\n607    607\n608    608\n609    609\n610    610\n611    611\n612    612\n613    613\n614    614\n615    615\n616    616\n617    617\n618    618\n619    619\n620    620\n621    621\n622    622\n623    623\n624    624\n625    625\n626    626\n627    627\n628    628\n629    629\n630    630\n631    631\n632    632\n633    633\n634    634\n635    635\n636    636\n637    637\n638    638\n639    639\n640    640\n641    641\n642    642\n643    643\n644    644\n645    645\n646    646\n647    647\n648    648\n649    649\n650    650\n651    651\n652    652\n653    653\n654    654\n655    655\n656    656\n657    657\n658    658\n659    659\n660    660\n661    661\n662    662\n663    663\n664    664\n665    665\n666    666\n667    667\n668    668\n669    669\n670    670\n671    671\n672    672\n673    673\n674    674\n675    675\n676    676\n677    677\n678    678\n679    679\n680    680\n681    681\n682    682\n683    683\n684    684\n685    685\n686    686\n687    687\n688    688\n689    689\n690    690\n691    691\n692    692\n693    693\n694    694\n695    695\n696    696\n697    697\n698    698\n699    699\n700    700\n701    701\n702    702\n703    703\n704    704\n705    705\n706    706\n707    707\n708    708\n709    709\n710    710\n711    711\n712    712\n713    713\n714    714\n715    715\n716    716\n717    717\n718    718\n719    719\n720    720\n721    721\n722    722\n723    723\n724    724\n725    725\n726    726\n727    727\n728    728\n729    729\n730    730\n731    731\n732    732\n733    733\n734    734\n735    735\n736    736\n737    737\n738    738\n739    739\n740    740\n741    741\n742    742\n743    743\n744    744\n745    745\n746    746\n747    747\n748    748\n749    749\n750    750\n751    751\n752    752\n753    753\n754    754\n755    755\n756    756\n757    757\n758    758\n759    759\n760    760\n761    761\n762    762\n763    763\n764    764\n765    765\n766    766\n767    767\n768    768\n769    769\n770    770\n771    771\n772    772\n773    773\n774    774\n775    775\n776    776\n777    777\n778    778\n779    779\n780    780\n781    781\n782    782\n783    783\n784    784\n785    785\n786    786\n787    787\n788    788\n789    789\n790    790\n791    791\n792    792\n793    793\n794    794\n795    795\n796    796\n797    797\n798    798\n799    799\n800    800\n801    801\n802    802\n803    803\n804    804\n805    805\n806    806\n807    807\n808    808\n809    809\n810    810\n811    811\n812    812\n813    813\n814    814\n815    815\n816    816\n817    817\n818    818\n819    819\n820    820\n821    821\n822    822\n823    823\n824    824\n825    825\n826    826\n827    827\n828    828\n829    829\n830    830\n831    831\n832    832\n833    833\n834    834\n835    835\n836    836\n837    837\n838    838\n839    839\n840    840\n841    841\n842    842\n843    843\n844    844\n845    845\n846    846\n847    847\n848    848\n849    849\n850    850\n851    851\n852    852\n853    853\n854    854\n855    855\n856    856\n857    857\n858    858\n859    859\n860    860\n861    861\n862    862\n863    863\n864    864\n865    865\n866    866\n867    867\n868    868\n869    869\n870    870\n871    871\n872    872\n873    873\n874    874\n875    875\n876    876\n877    877\n878    878\n879    879\n880    880\n881    881\n882    882\n883    883\n884    884\n885    885\n886    886\n887    887\n888    888\n889    889\n890    890\n891    891\n892    892\n893    893\n894    894\n895    895\n896    896\n897    897\n898    898\n899    899\n900    900\n901    901\n902    902\n903    903\n904    904\n905    905\n906    906\n907    907\n908    908\n909    909\n910    910\n911    911\n912    912\n913    913\n914    914\n915    915\n916    916\n917    917\n918    918\n919    919\n920    920\n921    921\n922    922\n923    923\n924    924\n925    925\n926    926\n927    927\n928    928\n929    929\n930    930\n931    931\n932    932\n933    933\n934    934\n935    935\n936    936\n937    937\n938    938\n939    939\n940    940\n941    941\n942    942\n943    943\n944    944\n945    945\n946    946\n947    947\n948    948\n949    949\n950    950\n951    951\n952    952\n953    953\n954    954\n955    955\n956    956\n957    957\n958    958\n959    959\n960    960\n961    961\n962    962\n963    963\n964    964\n965    965\n966    966\n967    967\n968    968\n969    969\n970    970\n971    971\n972    972\n973    973\n974    974\n975    975\n976    976\n977    977\n978    978\n979    979\n980    980\n981    981\n982    982\n983    983\n984    984\n985    985\n986    986\n987    987\n988    988\n989    989\n990    990\n991    991\n992    992\n993    993\n994    994\n995    995\n996    996\n997    997\n998    998\n\ndoc_id_guns$date<-top_guns_urls_df$date_utc\n\nannoData <- left_join(doc_id_guns, annotated.guns_corpus$token, by = \"doc_id\")\n\nannoData$date<-as.Date(annoData$date)\n\n\n\n\n\nannoData %>% \n  group_by(date) %>% \n  summarize(Sentences = max(sid)) %>%\n  ggplot(aes(date, Sentences)) +\n    geom_line() +\n    geom_smooth() +\n    theme_bw()\n\n\n\n\n\n\n# calculate readability\nreadability <- textstat_readability(top_guns_corpus, \n                                    measure = c(\"Flesch.Kincaid\")) \n\n# add in a chapter number\nreadability$chapter <- c(1:nrow(readability))\n\n# plot results\nggplot(readability, aes(x = chapter, y = Flesch.Kincaid)) +\n  geom_line() + \n  geom_smooth() + \n  theme_bw()\n\n\n\n\n\n\nreadability <- textstat_readability(top_guns_corpus, \n                                    measure = c(\"Flesch.Kincaid\", \"FOG\", \"Coleman.Liau.grade\")) \n\n# add in a chapter number\n\nreadability$post <- c(1:nrow(readability))\n\n# plot results\nggplot(readability, aes(x = post)) +\n  geom_line(aes(y = Flesch.Kincaid), color = \"black\") + \n  geom_line(aes(y = FOG), color = \"red\") + \n  geom_line(aes(y = Coleman.Liau.grade), color = \"blue\") + \n  theme_bw()\n\n\n\n\n\n\nannoData$date<-as.Date(annoData$date)\n\nreadability$added_dates<-as.Date(top_guns_urls_df$date_utc)\n\nggplot(readability, aes(x = added_dates)) +\n  geom_smooth(aes(y = Flesch.Kincaid), color = \"black\") + \n  geom_smooth(aes(y = FOG), color = \"red\") + \n  geom_smooth(aes(y = Coleman.Liau.grade), color = \"blue\") + \n  theme_minimal()\n\n\n\n\n\n\ncor(readability$Flesch.Kincaid, readability$FOG, use = \"complete.obs\")\n\n\n[1] 0.8007756\n\n\n\ncor(readability$Flesch.Kincaid, readability$Coleman.Liau.grade, use = \"complete.obs\")\n\n\n[1] 0.7308223\n\n\n\ncor(readability$FOG, readability$Coleman.Liau.grade, use = \"complete.obs\")\n\n\n[1] 0.5551364\n\n\n\n#sentimetnsdf<-get_sentiments(\"nrc\")\n\n#write.csv(sentimetnsdf, file = \"sentimetnsdf.csv\")\n\n#save(sentimetnsdf, file=\"sentimetnsdf_2\")\n\n\n\n\n\nlibrary(readr)\nsentimetnsdf <- read_csv(\"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/sentimetnsdf.csv\")\n\n\n\n\n\ntop_guns_urls_df_2<-top_guns_urls_df\ntop_guns_urls_df_2$text<- seq(1, 998, by=1)\n\n\nnrc_joy <- sentimetnsdf %>% \n  filter(sentiment == \"joy\")\n\ntidy_posts_for_guns <- top_guns_urls_df_2 %>%\n  unnest_tokens(word, title) \n\ntidy_posts_for_guns %>%\n  inner_join(nrc_joy) %>%\n  count(word, sort = TRUE)\n\n\n           word  n\n1          love 24\n2       finally 22\n3         happy 18\n4           fun 14\n5      favorite 12\n6         found 10\n7          good  8\n8      birthday  6\n9        pretty  6\n10         safe  6\n11        elite  5\n12       friend  5\n13         baby  4\n14        green  4\n15    beautiful  3\n16      feeling  3\n17         gift  3\n18     inspired  3\n19          joy  3\n20        pride  3\n21        clean  2\n22      embrace  2\n23      excited  2\n24        money  2\n25      perfect  2\n26        share  2\n27         star  2\n28        sunny  2\n29 appreciation  1\n30          art  1\n31       beauty  1\n32  celebrating  1\n33     classics  1\n34      content  1\n35       create  1\n36         deal  1\n37      diamond  1\n38        fancy  1\n39    favorable  1\n40      fitting  1\n41         glow  1\n42          god  1\n43         hope  1\n44         kind  1\n45        laugh  1\n46       liking  1\n47       loving  1\n48        lucky  1\n49        merry  1\n50       mighty  1\n51       mother  1\n52        music  1\n53       pastry  1\n54        peace  1\n55       picnic  1\n56      pleased  1\n57     powerful  1\n58      present  1\n59     progress  1\n60      promise  1\n61        proud  1\n62      respect  1\n63        score  1\n64        smile  1\n65      special  1\n66     splendid  1\n67     surprise  1\n68        teach  1\n69        treat  1\n70       wealth  1\n\ntidy_posts_for_guns_sentiment <- tidy_posts_for_guns %>%\n  inner_join(sentimetnsdf) %>%\n  count(text, sentiment) %>%\n  pivot_wider(names_from = sentiment, values_from = n, values_fill = 0) %>% \n  mutate(sentiment = positive - negative)\n\n\n\n\n\ntidy_posts_for_guns_sentiment\n\n\n# A tibble: 580 × 12\n    text trust   joy positive anger anticipation disgust  fear\n   <dbl> <int> <int>    <int> <int>        <int>   <int> <int>\n 1     1     1     0        0     0            0       0     0\n 2     2     1     1        1     0            0       0     0\n 3     4     0     0        1     0            0       0     0\n 4     9     1     0        2     0            0       0     0\n 5    11     0     0        1     2            1       1     1\n 6    12     0     0        1     0            0       0     0\n 7    14     2     2        3     0            3       0     0\n 8    15     1     1        3     0            2       0     0\n 9    16     2     1        1     0            1       0     0\n10    22     0     0        0     1            0       0     1\n# … with 570 more rows, and 4 more variables: negative <int>,\n#   sadness <int>, surprise <int>, sentiment <int>\n\nsentimetnsdf\n\n\n# A tibble: 13,875 × 3\n    ...1 word        sentiment\n   <dbl> <chr>       <chr>    \n 1     1 abacus      trust    \n 2     2 abandon     fear     \n 3     3 abandon     negative \n 4     4 abandon     sadness  \n 5     5 abandoned   anger    \n 6     6 abandoned   fear     \n 7     7 abandoned   negative \n 8     8 abandoned   sadness  \n 9     9 abandonment anger    \n10    10 abandonment fear     \n# … with 13,865 more rows\n\n\n\nnrc_guns_word_counts <- tidy_posts_for_guns %>%\n  inner_join(sentimetnsdf) %>%\n  count(word, sentiment, sort = TRUE) %>%\n  ungroup()\n\n\n\n\n\nnrc_guns_word_counts %>%\n  group_by(sentiment) %>%\n  slice_max(n, n = 10) %>% \n  ungroup() %>%\n  mutate(word = reorder(word, n)) %>%\n  ggplot(aes(n, word, fill = sentiment)) +\n  geom_col(show.legend = FALSE) +\n  facet_wrap(~sentiment, scales = \"free_y\") +\n  labs(x = \"Contribution to sentiment\",\n       y = NULL)\n\n\n\n\nSentiment Results Using NRC\nExplanation: Using nrc appears to have had some\nunintended effects that may require an analysis of the specific words\nused to describe sentiment. One difficult part of the data being used is\nthat firearms, and the words used to describe them, are percieved\n\n\n\n",
    "preview": "posts/2022-03-03-text-as-data-blog-post-2/text-as-data-blog-post-2_files/figure-html5/unnamed-chunk-8-1.png",
    "last_modified": "2022-03-05T21:08:00-05:00",
    "input_file": "text-as-data-blog-post-2.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-02-21-week-5-interpretaive-assignment/",
    "title": "Week 5 (and 6) Interpretaive Assignment",
    "description": "A brief analysis of wars in 1000s, 1100s, and 1200s comparing faction centrality and brokerage.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-02-21",
    "categories": [],
    "contents": "\n\n\n\n\n\n\nBackground and Research\nQuestion:\nWikipedia is self-described as a “free content, multilingual online\nencyclopedia written and maintained by a community of volunteers through\na model of open collaboration,” information on the website i shared and\nmaintained “using a wiki-based editing system. [and] Individual\ncontributors,” being the 5th most visited website in the world it is\nalso the largest and most-read reference work in history.” (“https://en.wikipedia.org/wiki/Wikipedia”) Because of\nWikipedia’s position, as an arbiter of information and reference for a\nnumber of subjects, it is essential to understand the nature of the\nrequired citations and how they inform the websites portrayal of history\nand information. (Chase 2021)\nConflict is a defining feature of history, the results of war and the\ngroups involved are essential to understanding dynamics of power\nglobally. A war can represent the transfer of material, territorial, and\nstrategic power between groups. As a result the networks of wars between\nnations can give some notion of power centrality among warring\nnations.\nSince wikipedia has become a widely accepted (if often critiqued)\nsource of information, its citations and the information resulting from\nthem can give us a sense of how where the center of global conflict, and\nthus the most central nations, according to popular and accessible\nacademic literature.\nhttps://www.visualcapitalist.com/the-50-most-visited-websites-in-the-world/\nChase, Matt. “Wikipedia is 20, and its reputation has never been\nhigher”. The Economist. January 9, 2021. Retrieved February 25,\n2021.\n\n\n\nPart 1:\nDescribe the Dataset You Are\nUsing:\nThe Dataset Being Used: The dataset that I am using\nis wikipedia list of wars throughout history, this article is the “List\nof wars: 1000–1499” which acts as a subset of the “2nd-millennium\nconflicts” I chose this dataset as an exemplar of popular history’s\ndepiction of the centralization of worldwide conflict. Wikipedia, being\nan accessible source generally created from relevant citations makes it\na good case study to see where historical writers and academics center\ntheir world are relevant conflicts.\nIdentify initial network\nformat:\nAnswer: The initial network format is as an edge\nlist, the first, in column contains the winners of each\nwar while the second, out column contains the losers of\neach. These sets of belligerents are directed\nNetwork\nStructure: Wars Startings in the 1000s\n\n Network attributes:\n  vertices = 117 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 153 \n    missing edges= 0 \n    non-missing edges= 153 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nNetwork\nStructure: Wars Startings in the 1100s\n\n Network attributes:\n  vertices = 97 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 238 \n    missing edges= 0 \n    non-missing edges= 238 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nNetwork\nStructure: Wars Startings in the 1200s\n\n Network attributes:\n  vertices = 161 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 313 \n    missing edges= 0 \n    non-missing edges= 313 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nIdentify Nodes: Describe and identify the nodes\n(including how many nodes are in the dataset)\nAnswer: Nodes or vertices in these datasets\nrepresent belligerents in wars throughout history, the involved parties\nin each conflict can be a nation, province, individual, or group so long\nas they are listed as involved in the conflict. In the 1000s there are\n117, in the 1100s there are 78 and in the 1200s there are 161.\nWhat Constitutes a Tie: What constitutes a tie or\nedge (including how many ties, whether ties are directed/undirected and\nweighted/binary, and how to interpret the value of the tie if any)\nAnswer: A tie or edge in this dataset represents a\nwar, this war can be between two nations or groups within a nation.\nThese edges can represent a war that involved many more nations but are\nalways tied to each and every party involved on both sides. These edges\nare directed and the direction indicates which side “won” the conflict\n(if an edge has an arrow pointing to another the node that originated\nthat arrow won the war against them. There are 153 edges in the 1000s,\n225 edges in 1100s and 313 edges in the 1200s.\nEdge Attributes and Subset: Whether or not there are\nedge attributes that might be used to subset data or stack multiple\nnetworks (e.g., tie type, year, etc).\nAnswer: There are a number of attributes that could\nbe used to subset the data, year that the conflict began or the length\nof time it lasted are available. Aspects like each side’s religion and\nthe area where the conflict took place could be used to subset the data\nitself.\nPart 2:\nBrokerage and Betweeness\ncentrality\nWhat are betweeness and brokerage cenrrality\nCalculate brokerage and betweenneess centrality measures for one or more\nsubsets of your network data, and write up the results and your\ninterpretation of them.\nAnswer: I will be calculating these measures for\nwars in 1000-1099, 1100-1199, and 1200-1399.\n\n\n\nBrokerage scores in the\n1000s\n\n\n\n\n\n(wars_in_1000s.nodes.stat_2%>%\n  arrange(desc(broker.tot))%>%\n  slice(1:10))[,c(1,11:15)] %>%kable()\n\n\nname\nbroker.tot\nbroker.coord\nbroker.itin\nbroker.rep\nbroker.gate\nByzantine Empire\n25.2728731\nNaN\n3.9930250\nNaN\nNaN\nSultanate of Rum\n10.4364880\nNaN\n-0.5014965\nNaN\nNaN\nHoly Roman Empire\n10.0243662\nNaN\n4.8919293\nNaN\nNaN\nEngland\n7.5516353\nNaN\n6.6906430\n-0.0800286\n-0.0800286\nKingdom of Sicily\n5.4910263\nNaN\n3.9930250\nNaN\nNaN\nKingdom of France\n2.1940518\nNaN\n-0.5014965\nNaN\nNaN\nSeljuk Empire\n1.7819300\n-0.0271615\n-0.5004595\n6.3140099\n-0.1374029\nKingdom of Georgia\n0.5455645\n-0.0158536\n-0.5009747\n-0.1126843\n-0.1126843\nPapal States\n0.5455645\n-0.0158536\n-0.5009747\n-0.1126843\n11.6872209\nNormandy\n0.1334427\n-0.1256118\n0.4229345\n-0.2730778\n-0.2730778\n\nBrokerage scores in the\n1100s\n\n\n\n\n\n\n\n\n(wars_in_1100s.nodes.stat_2%>%\n  arrange(desc(broker.tot))%>%\n  slice(1:10))[,c(1,10:14)] %>%kable()\n\n\nname\nbroker.tot\nbroker.coord\nbroker.itin\nbroker.rep\nbroker.gate\nKingdom of Jerusalem\n17.1050061\nNaN\n2.8705599\n24.5610650\n-0.1357675\nFatimid Caliphate\n10.2415178\nNaN\n-0.6472506\nNaN\nNaN\nAyyubid Dynasty\n9.3615834\nNaN\n-0.6465587\n-0.1357675\n-0.1357675\nZengid Dynasty\n7.4257278\nNaN\n0.7591543\nNaN\nNaN\nByzantine Empire\n6.8977671\nNaN\n0.7602887\n-0.1357675\n-0.1357675\nEngland\n5.8418459\nNaN\n-0.6465587\n-0.1357675\n-0.1357675\nHoly Roman Empire\n3.0260558\nNaN\n-0.6465587\n-0.1357675\n-0.1357675\nKingdom of France\n1.6181608\nNaN\n-0.6465587\n-0.1357675\n-0.1357675\nKingdom of Sicily\n0.5622395\n-0.1467125\n-0.6293842\n-0.3476788\n-0.3476788\nPapal States\n0.0342789\n-0.1264908\n-0.6336748\n-0.3236913\n2.5014147\n\nBrokerage scores in the\n1200s\n\n\n\n\n\n\n\n\n\n\nname\nbroker.tot\nbroker.coord\nbroker.itin\nbroker.rep\nbroker.gate\nMongol Empire\n47.964825\nNaN\n-0.5953457\nNaN\nNaN\nKingdom of France\n28.663539\nNaN\n-0.5953457\nNaN\nNaN\nAyyubid Dynasty\n26.995527\nNaN\n1.6524957\nNaN\nNaN\nKingdom of England\n21.991489\nNaN\n8.3960200\nNaN\nNaN\nRepublic of Genoa\n11.983415\nNaN\n-0.5953457\nNaN\nNaN\nKnights Templar\n10.077115\nNaN\n1.6524957\nNaN\nNaN\nHoly Roman Empire\n4.834790\n-0.0170801\n-0.5948396\n10.86552\n10.8655226\nPrincipality of Antioch\n4.834790\n-0.0170801\n2.4030361\n13.61357\n-0.1266480\nKingdom of Cyprus\n4.596503\n58.5391124\n0.1546293\n13.61357\n10.8655226\nCounty of Tripoli\n3.643353\nNaN\n0.9035078\n19.28056\n-0.0898366\n\n\nname\nbroker.gate\nPapal States\n11.6872209\nCounty of Sicily\n-0.0800286\nEngland\n-0.0800286\nCounty of Aversa\n-0.1126843\nKingdom of Georgia\n-0.1126843\nGreat Seljuq Empire\n-0.1126843\nChola Empire\n-0.1126843\nTaifa of Lérida\n-0.1126843\nCounty of Apulia\n-0.1374029\nSeljuk Empire\n-0.1374029\nname\nbroker.tot\nByzantine Empire\n25.2728731\nSultanate of Rum\n10.4364880\nHoly Roman Empire\n10.0243662\nEngland\n7.5516353\nKingdom of Sicily\n5.4910263\nKingdom of France\n2.1940518\nSeljuk Empire\n1.7819300\nKingdom of Georgia\n0.5455645\nPapal States\n0.5455645\nNormandy\n0.1334427\n\nOption 2.A\nFor a Specific Research Question: If you have a\nspecific research question, please feel free to use that to guide your\nanalysis. Otherwise, you may want to orient your analysis as follows in\norder to identify a compelling question or noteworthy pattern in the\ndata that can be interpreted.\nAnswer: Since I am interested in the relative power\nof nations by their relative position ad centrality in the worldwide\nconflict, network brokerage can be used to illustrate significant\npositions in global conflict. Below I wanted to look at 4 kinds of\nbrokerage, these are broker.gate or gatekeeper, coordinator, liason, and\nitinerant. I am interested to see if these specific coordination types\nare primarily done by specific nations.\n\n\n\n\n\n\n\n\n\nTotal Brokerage\nExplanation: Looking at total brokerage in this\ndataset gives a sense of which factions were responsible for highest\nconnection of unconnected actors through conflict. Given the crusades\nigniting conflict between Europe and the middle east it is sensible that\nthe Byzantine Empire in the center of both connects the most unconnected\nactors through conflict closely followed by the Sultanate of Rum, a\nmajor Muslim faction that fought against the crusades and third being\nthe Holy Roman Empire who participated in many conflicts including the\ncrusades. These are followed by England who centered the wars in the\nBritish isles and the Kingdom of Sicily who were also in a position of\nconflict.\n\nname\nbroker.tot\nByzantine Empire\n25.272873\nSultanate of Rum\n10.436488\nHoly Roman Empire\n10.024366\nEngland\n7.551635\nKingdom of Sicily\n5.491026\n\nCoordinator Brokerage\nExplanation: In this case no particular country is\nvery high above any other in terms of their coordinator brokerage,\nmeaning that within groups no particular nations appear to be brokering\nmore within the groups.\n\nname\nbroker.coord\nCounty of Aversa\n-0.0158536\nKingdom of Georgia\n-0.0158536\nGreat Seljuq Empire\n-0.0158536\nPapal States\n-0.0158536\nChola Empire\n-0.0158536\n\nItinerant Brokerage\nExplanation: Itinerant brokerage represents when a\nnon-group actor connects 2 actors in a group it is no in to each other,\nin this case England has the highest score. Looking at the network graph\nthey do appear to connect 2 actors in a group together.\n\nname\nbroker.itin\nEngland\n6.6906430\nHoly Roman Empire\n4.8919293\nKingdom of Sicily\n3.9930250\nByzantine Empire\n3.9930250\nPrincipality of Kiev\n0.4413428\n\nRepresentative Brokerage\nExplanation: Representative brokerage indicates that\nthe broker, or nation in question loses a war to another in their group,\nbut wins another against a faction outside of their group. This can be\nthough of as their directed connections to them. In this case the Seljuk\nEmpire and Kingdom of Aragon have instances in which they lose to\nfactions within their group before beating those outside of it.\n\nname\nbroker.rep\nSeljuk Empire\n6.3140099\nKingdom of Aragon\n1.1415607\nCounty of Sicily\n-0.0800286\nEngland\n-0.0800286\nCounty of Aversa\n-0.1126843\n\nGatekeeper Brokerage\nExplanation: The Papal states being ranked highest\nin gatekeeper brokerage is an interesting observation as no other nation\nin the dataset appears to be close to their level as most are negative\nin this category. In this cae being a gatekeeper means that they are in\nat conflict in a group with another while the nation in a different\ngroup of conflicts is only at war with them from the group. This is an\ninteresting observation given the Papal states role as a coordinator of\nthe war, but not a participant in the conflcit as directly as other\nbelligerents. (This being the crusade given the period)\n\nname\nbroker.gate\nPapal States\n11.6872209\nCounty of Sicily\n-0.0800286\nEngland\n-0.0800286\nCounty of Aversa\n-0.1126843\nKingdom of Georgia\n-0.1126843\n\nLiaison Brokerage\nExplanation: A liaison broker, in this case, is a\nfaction that loses a war to a group they do not belong to and wins a war\nagainst a different group than the first that they also do not belong\nto. The Byzantine Empire, Sultanate of Rum, and Holy Roman Empire are\nhighest in this category likely owing to their frequent states of\nconflict beyond the crusades against a variety of groups.\n\nname\nbroker.lia\nByzantine Empire\n31.767840\nSultanate of Rum\n14.454659\nHoly Roman Empire\n10.545231\nEngland\n6.202342\nKingdom of Sicily\n4.960334\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNetwork\n1000s Plot Grouping Determined with No Cluster Method\n\n\n\nNetwork\n1000s Plot Grouping Determined with the Average Cluster Method\n\n\n\nNetwork\n1000s Plot Grouping Determined with the Single Cluster Method\n\n\n\nNetwork\n1000s Plot Grouping Determined with the Ward.D Cluster Method\n\n\n\nNetwork 1000s Plot igraph\n\n\n\nNetwork Graphing 1100s\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNetwork\n1100s Plot Grouping Determined with No Cluster Method\n\n\n\nNetwork\n1100s Plot Grouping Determined with the Average Cluster Method\n\n\n\nNetwork\n1100s Plot Grouping Determined with the Single Cluster Method\n\n\n\nNetwork\n1100s Plot Grouping Determined with the Ward.D Cluster Method\n\n\n\nNetwork 1100s Plot igraph\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInspecting Clustering\nMethods\n\n\n\n(information regarding the meaning of each type of brokerage was\nacquired from https://edis.ifas.ufl.edu/publication/WC197)\n\n\n\n",
    "preview": "posts/2022-02-21-week-5-interpretaive-assignment/week-5-interpretaive-assignment_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2022-03-04T15:27:09-05:00",
    "input_file": "week-5-interpretaive-assignment.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-02-10-workwithmedievalnetworks/",
    "title": "Work with Medieval Networks",
    "description": "A Brief Analysis of Networks of Medieval Conflict.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-02-10",
    "categories": [],
    "contents": "\n\n\n\n\n\n\n\n\n\nBriefly Describe the Dataset You Are Using:\nQuestion: Identify initial network format\n\n\n\nNetwork Structure: Wars Startings in the 1000s\n\n Network attributes:\n  vertices = 117 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 153 \n    missing edges= 0 \n    non-missing edges= 153 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nNetwork Structure: Wars Startings in the 1100s\n\n Network attributes:\n  vertices = 78 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 225 \n    missing edges= 0 \n    non-missing edges= 225 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nNetwork Structure: Wars Startings in the 1200s\n\n Network attributes:\n  vertices = 161 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = TRUE \n  bipartite = FALSE \n  total edges= 313 \n    missing edges= 0 \n    non-missing edges= 313 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nQuestion: Describe and identify the nodes (including how many nodes are in the dataset)\nAnswer: Nodes or vertices in these datasets represent belligerents in wars throughout history, the involved parties in each conflict can be a nation, province, individual, or group so long as they are listed as involved in the conflict.\nQuestion: What constitutes a tie or edge (including how many ties, whether ties are directed/undirected and weighted/binary, and how to interpret the value of the tie if any)\nAnswer: A tie or edge in this dataset represents a war, this war can be between two nations or groups within a nation. These edges can represent a war that involved many more nations but are always tied to each and every party involved on both sides. These edges are directed and the direction indicates which side “won” the conflict.\nQuestion: Whether or not there are edge attributes that might be used to subset data or stack multiple networks (e.g., tie type, year, etc).\nAnswer: There are a number of attributes that could be used to subset the data, years that the conflict began or the length of time it lasted are available. Aspects like each side’s religion and the area where the conflict took place.\nCloseness Betweeness and Eigenvector Centrality\nQuestion: Calculate closeness, betweenness and eigenvector centrality measures for your network data, and bonachic-power if possible. Compare these measures to basic degree centrality measures. Try to interpret the results. Are there any interesting patterns in the distribution of measures or correlations between them that provide insight into the measures?\nCentralization: Wars Startings in the 1000s\n\nname\ntotdegree\nindegree\noutdegree\neigen\nCounty of Apulia\n7\n0\n7\n0.000000\nCounty of Aversa\n5\n0\n5\n0.000000\nKingdom of Sicily\n8\n3\n5\n0.000000\nGhaznavids\n2\n0\n2\n0.000000\nKingdom of Poland\n1\n0\n1\n0.182744\nKingdom of Hungary\n3\n0\n3\n0.000000\n\n\n\n\n\n\n\n\n\ncentralization(wars_in_1000s_network, degree, cmode=\"outdegree\") %>% kable()\n\n\nx\n0.1016647\n\ncentralization(wars_in_1000s_network, degree, cmode=\"indegree\") %>% kable()\n\n\nx\n0.0494946\n\ncentralization(wars_in_1000s_network, degree) %>% kable()\n\n\nx\n0.0674663\n\nAs can be seen above I have coded measures of indegree, outdegree, and total centralization in the wars in the 1000s dataset.\nCentralization: Wars Startings in the 1100s\n\nname\ntotdegree\nindegree\noutdegree\neigen\nSultanate of Rum\n23\n0\n23\n0.2893116\nDanishmends\n13\n0\n13\n0.0690251\nSeljuk Emirate of Aleppo\n13\n0\n13\n0.0690251\nKingdom of Jerusalem\n23\n11\n12\n0.5378974\nFatimids of Egypt\n1\n0\n1\n0.0973860\nKingdom of Norway\n4\n0\n4\n0.0398827\n\n\n\n\n\n\n\n\n\ncentralization(wars_in_1100s_network, degree, cmode=\"outdegree\") %>% kable()\n\n\nx\n0.2646315\n\ncentralization(wars_in_1100s_network, degree, cmode=\"indegree\") %>% kable()\n\n\nx\n0.1593861\n\ncentralization(wars_in_1100s_network, degree) %>% kable()\n\n\nx\n0.1148325\n\nI do the same above and calculate measures of indegree, outdegree, and total centralization in the wars in the 1100s dataset.\nCentralization: Wars Startings in the 1200s\n\nname\ntotdegree\nindegree\noutdegree\neigen\nForces of Bohemond IV of Antioch\n3\n0\n3\n0.0000000\nKnights Templar\n22\n3\n19\n0.4663665\nAyyubid Emirate of Aleppo\n3\n0\n3\n0.0000000\nKingdom of Jerusalem\n3\n0\n3\n0.0000000\nSultanate of Rum\n3\n0\n3\n0.0000000\nHoly Roman Empire\n11\n6\n5\n0.1770181\n\n\n\n\n\n\n\n\n\ncentralization(wars_in_1200s_network, degree, cmode=\"outdegree\") %>% kable()\n\n\nx\n0.2016016\n\ncentralization(wars_in_1200s_network, degree, cmode=\"indegree\") %>% kable()\n\n\nx\n0.0758203\n\ncentralization(wars_in_1200s_network, degree) %>% kable()\n\n\nx\n0.1174332\n\nFinally I calculate measures of indegree, outdegree, and total centralization in the wars in the 1200s dataset.\nEigenvector Centralization\nQuestion: You may also want to identify whether the same node(s) are more/less central using the different measures, and see if you can find any patterns in the results based on which nodes are high/low on each measures. Discuss (with any related evidence) whether or not the node(s) behavior is in line with or violates expectations based on the degree centrality measure, comparing across those measures using a data frame similar to that constructed in the syntax. Be sure to share your assignment with group members for comments.\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nByzantine Empire\n18\n5\n13\n0.478430\n0.3571429\n0.1708679\n0.6428571\n0.3075621\nHoly Roman Empire\n15\n2\n13\n0.295686\n1.0000000\n0.2956860\n0.0000000\n0.0000000\nMirdasid Emirate of Aleppo\n1\n0\n1\n0.295686\n0.0000000\n0.0000000\n1.0000000\n0.2956860\nKingdom of Georgia\n5\n1\n4\n0.295686\n0.0769231\n0.0227451\n0.9230769\n0.2729409\nDuklja\n1\n0\n1\n0.295686\n0.0000000\n0.0000000\n1.0000000\n0.2956860\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nKingdom of Jerusalem\n23\n11\n12\n0.5378974\n0.2980769\n0.1603348\n0.7019231\n0.3775626\nAyyubid Dynasty\n18\n10\n8\n0.5188525\n0.3200000\n0.1660328\n0.6800000\n0.3528197\nSultanate of Rum\n23\n0\n23\n0.2893116\n0.0000000\n0.0000000\n1.0000000\n0.2893116\nHoly Roman Empire\n12\n8\n4\n0.2303733\n0.0892857\n0.0205690\n0.9107143\n0.2098042\nAlmoravid Dynasty\n10\n0\n10\n0.2202864\n0.0000000\n0.0000000\n1.0000000\n0.2202864\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nKnights Templar\n22\n3\n19\n0.4663665\n0.1428571\n0.0666238\n0.8571429\n0.3997427\nAyyubid Dynasty\n23\n9\n14\n0.4263748\n0.1046512\n0.0446206\n0.8953488\n0.3817542\nBahris\n7\n0\n7\n0.2911519\n0.0000000\n0.0000000\n1.0000000\n0.2911519\nRepublic of Genoa\n18\n5\n13\n0.2880895\n0.1428571\n0.0411556\n0.8571429\n0.2469339\nMongol Empire\n41\n7\n34\n0.2228895\n0.1206897\n0.0269005\n0.8793103\n0.1959891\n\nAnswer: Looking at the outputs above we see that regular eigenvector centrality, which accounts for the centrality of nodes attached to our node of interest. Here we see the top 5 highest observations in each dataset, in the 1000s the Byzantine Empire has the highest war, which is logical historically as they represented a bridge between major fighting factions in the Crusades between the Muslim Middle East and European west. The Kingdom of Jerusalem in the 1100s would also be connected, through its wars to other important powers being contested territory between Muslim empires like the Ayyubid Dynasty and crusading states like the Holy Roman Empire.\n\n\narrange(wars_in_1000s.nodes.stat, desc(eigen.rc\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nHoly Roman Empire\n15\n2\n13\n0.295686\n1.0000000\n0.2956860\n0.0000000\n0.0000000\nByzantine Empire\n18\n5\n13\n0.478430\n0.3571429\n0.1708679\n0.6428571\n0.3075621\nSultanate of Rum\n11\n7\n4\n0.295686\n0.1186441\n0.0350814\n0.8813559\n0.2606046\nKingdom of Georgia\n5\n1\n4\n0.295686\n0.0769231\n0.0227451\n0.9230769\n0.2729409\nKingdom of France\n10\n3\n7\n0.182744\n0.1034483\n0.0189046\n0.8965517\n0.1638394\n\narrange(wars_in_1100s.nodes.stat, desc(eigen.rc\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nAyyubid Dynasty\n18\n10\n8\n0.5188525\n0.3200000\n0.1660328\n0.6800000\n0.3528197\nKingdom of Jerusalem\n23\n11\n12\n0.5378974\n0.2980769\n0.1603348\n0.7019231\n0.3775626\nFatimid Caliphate\n17\n7\n10\n0.2202864\n0.2884615\n0.0635442\n0.7115385\n0.1567423\nZengid Dynasty\n16\n6\n10\n0.2202864\n0.1714286\n0.0377634\n0.8285714\n0.1825230\nRepublic of Venice\n6\n1\n5\n0.0797655\n0.3333333\n0.0265885\n0.6666667\n0.0531770\n\narrange(wars_in_1200s.nodes.stat, desc(eigen.rc\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nKnights Templar\n22\n3\n19\n0.4663665\n0.1428571\n0.0666238\n0.8571429\n0.3997427\nAyyubid Dynasty\n23\n9\n14\n0.4263748\n0.1046512\n0.0446206\n0.8953488\n0.3817542\nRepublic of Genoa\n18\n5\n13\n0.2880895\n0.1428571\n0.0411556\n0.8571429\n0.2469339\nKingdom of Cyprus\n11\n4\n7\n0.2025283\n0.1428571\n0.0289326\n0.8571429\n0.1735957\nMongol Empire\n41\n7\n34\n0.2228895\n0.1206897\n0.0269005\n0.8793103\n0.1959891\n\nAnswer: Reflected centrality represents the centrality one nation receives from another another that is attributable to the first nations contribution to the other nations score. Looking at reflected centrality through wars we see relatively similar trends. In the 1000s the Holy Roman Empire and Byzantine Empire play a distinct role in the crusades so in this case we see how central a nation is in conflict dependent on how much centrality they contribute to a nation they have a conflict with. Being focal points in the center of Europe in the case of the HRE and the focal point of Christian, Muslim conflict in the case of the Byzantine empire. For both fighting minor nations gives the two a great deal of centrality to other, potentially less central groups that they fight. The Ayyubids and Kingdom of Jerusalem that each occupy a central position in conflict. Into the 1200s the Knights Templar and Ayyubids occupy this position.\n\n\narrange(wars_in_1000s.nodes.stat, desc(eigen.dc\n\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nByzantine Empire\n18\n5\n13\n0.478430\n0.3571429\n0.1708679\n0.6428571\n0.3075621\nMirdasid Emirate of Aleppo\n1\n0\n1\n0.295686\n0.0000000\n0.0000000\n1.0000000\n0.2956860\nDuklja\n1\n0\n1\n0.295686\n0.0000000\n0.0000000\n1.0000000\n0.2956860\nGreat Seljuq Empire\n4\n0\n4\n0.295686\n0.0000000\n0.0000000\n1.0000000\n0.2956860\nKingdom of Georgia\n5\n1\n4\n0.295686\n0.0769231\n0.0227451\n0.9230769\n0.2729409\n\narrange(wars_in_1100s.nodes.stat, desc(eigen.dc\n\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nKingdom of Jerusalem\n23\n11\n12\n0.5378974\n0.2980769\n0.1603348\n0.7019231\n0.3775626\nAyyubid Dynasty\n18\n10\n8\n0.5188525\n0.3200000\n0.1660328\n0.6800000\n0.3528197\nSultanate of Rum\n23\n0\n23\n0.2893116\n0.0000000\n0.0000000\n1.0000000\n0.2893116\nAlmoravid Dynasty\n10\n0\n10\n0.2202864\n0.0000000\n0.0000000\n1.0000000\n0.2202864\nAbbasid Caliphate\n10\n0\n10\n0.2202864\n0.0000000\n0.0000000\n1.0000000\n0.2202864\n\narrange(wars_in_1200s.nodes.stat, desc(eigen.dc\n\n))%>%\n  slice(1:5) %>% kable()\n\n\nname\ntotdegree\nindegree\noutdegree\neigen\nrc\neigen.rc\ndc\neigen.dc\nKnights Templar\n22\n3\n19\n0.4663665\n0.1428571\n0.0666238\n0.8571429\n0.3997427\nAyyubid Dynasty\n23\n9\n14\n0.4263748\n0.1046512\n0.0446206\n0.8953488\n0.3817542\nBahris\n7\n0\n7\n0.2911519\n0.0000000\n0.0000000\n1.0000000\n0.2911519\nRepublic of Genoa\n18\n5\n13\n0.2880895\n0.1428571\n0.0411556\n0.8571429\n0.2469339\nAnti-Imperial faction\n7\n0\n7\n0.2025283\n0.0000000\n0.0000000\n1.0000000\n0.2025283\n\nAnswer: Finally Derived Centrality measures the centrality a nation receives from fighting another nation that is not a reflection of the first nation’s contribution of centrality to the others. Here the Byzantine Empire remains one of the largest, potentially suggesting their status as a cosmopolitan being high in both derived and reflected centrality. However, nations like the Mirdasid Emirate of Aleppo have little to no reflected centrality by high derived centrality suggesting that they are are a pure bridge.\n\n\nwars_in_1000s.nodes<-data.frame(name=V(wars_in_1000s.ig)$name,\n    totdegree=igraph::degree(wars_in_1000s.ig, loops=FALSE),\n    indegree=igraph::degree(wars_in_1000s.ig, mode=\"in\", loops=FALSE),\n    outdegree=igraph::degree(wars_in_1000s.ig, mode=\"out\", loops=FALSE))\n\nwars_in_1100s.nodes<-data.frame(name=V(wars_in_1100s.ig)$name,\n    totdegree=igraph::degree(wars_in_1100s.ig, loops=FALSE),\n    indegree=igraph::degree(wars_in_1100s.ig, mode=\"in\", loops=FALSE),\n    outdegree=igraph::degree(wars_in_1100s.ig, mode=\"out\", loops=FALSE))\n\nwars_in_1200s.nodes<-data.frame(name=V(wars_in_1200s.ig)$name,\n    totdegree=igraph::degree(wars_in_1200s.ig, loops=FALSE),\n    indegree=igraph::degree(wars_in_1200s.ig, mode=\"in\", loops=FALSE),\n    outdegree=igraph::degree(wars_in_1200s.ig, mode=\"out\", loops=FALSE))\n\neigen_cent_wars_in_1000s<-centr_eigen(wars_in_1000s.ig,directed=T)\n\neigen_cent_wars_in_1100s<-centr_eigen(wars_in_1100s.ig,directed=T)\n\neigen_cent_wars_in_1200s<-centr_eigen(wars_in_1200s.ig,directed=T)\n\n\n\nSome Attempts at Visualization\nGraph 1:\nExplanation: Below I have graphed the network for the 1000s dataset using base plot and an edgelist\n\n\nplot(wars_in_1000s_edgelist_network_edgelist, vertex.size=2,  edge.arrow.size=.2, vertex.color=\"gold\", vertex.size=20, vertex.frame.color=\"gray\", vertex.label.color=\"black\", vertex.label.cex=0.25, vertex.label.dist=2, edge.curved=0.2)\n\n\n\n\nGraph 2:\nExplanation: Next I used the igraph network object and graphed it using the automatic, proportional clustering.\n\n\n\nGraph 3:\nExplanation: Finally I used the ggplot network and graphed it using a generic network object. This order follows for the visualization of the 1100s datasets and 1200s.\n\n\n\nGraph 4:\n\n\nplot(wars_in_1100s_edgelist_network_edgelist, vertex.size=2,  edge.arrow.size=.2, vertex.color=\"gold\", vertex.size=20, vertex.frame.color=\"gray\", vertex.label.color=\"black\", vertex.label.cex=0.25, vertex.label.dist=2, edge.curved=0.2)\n\n\n\n\nGraph 5:\n\n\n\nGraph 6:\n\n\n\nGraph 7:\n\n\nplot(wars_in_1200s_edgelist_network_edgelist, vertex.size=2,  edge.arrow.size=.2, vertex.color=\"gold\", vertex.size=20, vertex.frame.color=\"gray\", vertex.label.color=\"black\", vertex.label.cex=0.25, vertex.label.dist=2, edge.curved=0.2)\n\n\n\n\nGraph 8:\n\n\n\nGraph 9:\n\n\n\n\n$mut\n[1] 3\n\n$asym\n[1] 147\n\n$null\n[1] 6636\n\n\n [1] 243974  14792    744    288    149    129     11     28     13\n[10]      0      1      0      0      1      0      0\n\n\n[1] 0.06481481\n[1] 0.0774983\n[1] 0.093224\n\n\n[1] 0.01117686\n[1] 0.03698225\n[1] 0.01207515\n\n\n     name               degree      \n Length:117         Min.   : 1.000  \n Class :character   1st Qu.: 1.000  \n Mode  :character   Median : 1.000  \n                    Mean   : 2.615  \n                    3rd Qu.: 3.000  \n                    Max.   :18.000  \n\n\n                name degree\n15  Byzantine Empire     18\n25 Holy Roman Empire     15\n28  Sultanate of Rum     11\n47 Kingdom of France     10\n29  County of Sicily      9\n34           England      9\n\n\n     name               degree      \n Length:117         Min.   : 1.000  \n Class :character   1st Qu.: 1.000  \n Mode  :character   Median : 1.000  \n                    Mean   : 2.615  \n                    3rd Qu.: 3.000  \n                    Max.   :18.000  \n\n\n\n\n",
    "preview": "posts/2022-02-10-workwithmedievalnetworks/workwithmedievalnetworks_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2022-02-17T14:21:24-05:00",
    "input_file": "workwithmedievalnetworks.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-02-07-florentine-families-week-3-assignment/",
    "title": "Florentine Families Week 3 Assignment",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-02-07",
    "categories": [],
    "contents": "\n\n\n\n\n\nset.seed(1)\ncanvas_flow(colors = colorPalette(\"vrolik3\"), lines = 3000, lwd = 0.5,\n            iterations = 1000, stepmax = 0.1, angles = 'svm')\n\n\n\n# see ?canvas_flow for more input parameters of this function\n\n\n\nData Description:\n\n\ndata(flo, package=\"network\")\n\n\nstatted_florentine<-as.network(flo)\n\nprint(statted_florentine)\n\n\n Network attributes:\n  vertices = 16 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = FALSE \n  bipartite = FALSE \n  total edges= 40 \n    missing edges= 0 \n    non-missing edges= 40 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\n\n\nplot(statted_florentine)\n\n\n\n\nNodes and Edges:\nAs can be seen from the graph and summary statistics above the florentine family dataset is made up of 40 edges and 16 vertices. Each vertex or node is a family in florence. Each edge, or tie represents a marriage between the two.\nAs a result the ties are not weighted, so they are binary. However, though the dataset labels the ties are directed, they are actually all mutual so in essence, the dataset does not measure marriaage “into” a family but simply uses a mutual directed tie for every set of families with a marriage between them.\n\n\nsna::dyad.census(statted_florentine)\n\n\n     Mut Asym Null\n[1,]  20    0  100\n\nAs can be seen from the code above the dyads within the dataset are either mutual or null, meaning that between any two nodes there are no asymmetric dyads despite the fact that the network is labeled as being directed.\n\n\nsna::triad.census(statted_florentine)\n\n\n     003 012 102 021D 021U 021C 111D 111U 030T 030C 201 120D 120U\n[1,] 324   0 195    0    0    0    0    0    0    0  38    0    0\n     120C 210 300\n[1,]    0   0   3\n\nAs can be seen from the triad census above the types of triads in the dataset are 324 of the 003-type, 102 of the 102-type, 38 of the 201-type and 3 of the 300-type. The 324 of 003-type and 195 of the 102-type indicate that 519 of the 560 triads are vacuously transitive, the remaining 38 of the 201-type are intransitive and only the 3 300-types are transitive\nTransitivity\nAs can be seen in the code below indicates the the transitivity of the network as a whole is 0.1914894, which follows from the results above. This would indicate a relatively low rate of transitivity and thus low inter-connectedness of the nodes and potientally lower density overall.\n\n\ngtrans(statted_florentine)\n\n\n[1] 0.1914894\n\nIsolates\nThough the code below indicates that there are 12 isolates in the network, the data from our plot suggests that this is likely untrue and due to the discrepancy between the un-directed true nature of the network and its label as directed as a network object.\n\n\nisolates(statted_florentine)\n\n\n[1] 12\n\nDensity\nAs indicated by the code chunk below network density here is 0.1666667 indicating that only 16.67% of possible ties in the network are made.\n\n\nnetwork.density(statted_florentine)\n\n\n[1] 0.1666667\n\nDegree and Interesting Results\nEach of the 16 node’s degrees are acquired from the code bellow in integer form, from the digits alone it is difficult to distinguish any sort of overall pattern in the data.\n\n\nsna::degree(statted_florentine)\n\n\n [1]  2  6  4  6  6  2  8  2 12  2  6  0  6  4  8  6\n\nBelow I create a data frame with the overall degree of each family.\n\n\nflorentine.nodes<-data.frame(name=statted_florentine%v%\"vertex.names\",\n                             degree=sna::degree(statted_florentine))\nflorentine.nodes\n\n\n           name degree\n1    Acciaiuoli      2\n2       Albizzi      6\n3     Barbadori      4\n4      Bischeri      6\n5    Castellani      6\n6        Ginori      2\n7      Guadagni      8\n8  Lamberteschi      2\n9        Medici     12\n10        Pazzi      2\n11      Peruzzi      6\n12        Pucci      0\n13      Ridolfi      6\n14     Salviati      4\n15      Strozzi      8\n16   Tornabuoni      6\n\nBelow I then calculate each individual nodes indegree and out-degree.\nNotewory Results\nUpon running the above code I realized that despite the network being labeled “directed” all of its ties were actually mutual and thus the in-degree and out-degree would be identical since marriage is considered mutual. Though this follows from the fact that are generally considered mutual it is interesting to observe that marriages are not considered “into” another family but are represented as a mutual, but directed ties between nodes in every case.\n\n\nsna::degree(statted_florentine, cmode=\"indegree\")\n\n\n [1] 1 3 2 3 3 1 4 1 6 1 3 0 3 2 4 3\n\nsna::degree(statted_florentine, cmode=\"outdegree\")\n\n\n [1] 1 3 2 3 3 1 4 1 6 1 3 0 3 2 4 3\n\nAs can be seen from the code above each node has identical in-degrees and out-degrees\n\n\nflorentine.nodes <- data.frame(name=statted_florentine%v%\"vertex.names\",\n    totdegree=sna::degree(statted_florentine),\n    indegree=sna::degree(statted_florentine, cmode=\"indegree\"),\n    outdegree=sna::degree(statted_florentine, cmode=\"outdegree\"))\n\nflorentine.nodes\n\n\n           name totdegree indegree outdegree\n1    Acciaiuoli         2        1         1\n2       Albizzi         6        3         3\n3     Barbadori         4        2         2\n4      Bischeri         6        3         3\n5    Castellani         6        3         3\n6        Ginori         2        1         1\n7      Guadagni         8        4         4\n8  Lamberteschi         2        1         1\n9        Medici        12        6         6\n10        Pazzi         2        1         1\n11      Peruzzi         6        3         3\n12        Pucci         0        0         0\n13      Ridolfi         6        3         3\n14     Salviati         4        2         2\n15      Strozzi         8        4         4\n16   Tornabuoni         6        3         3\n\nThe notion is confirmed by the degree summaries in the code below and the table above. In both cases all indicators are identical for both in-degree and out-degree and sum to the values seen in the total-degree column.\n\n\nsummary(florentine.nodes)\n\n\n     name             totdegree     indegree     outdegree  \n Length:16          Min.   : 0   Min.   :0.0   Min.   :0.0  \n Class :character   1st Qu.: 2   1st Qu.:1.0   1st Qu.:1.0  \n Mode  :character   Median : 6   Median :3.0   Median :3.0  \n                    Mean   : 5   Mean   :2.5   Mean   :2.5  \n                    3rd Qu.: 6   3rd Qu.:3.0   3rd Qu.:3.0  \n                    Max.   :12   Max.   :6.0   Max.   :6.0  \n\nHistograms of the distribution of the degrees also illustrate that the only difference between in-degree, out-degree, and total degree is that total degree has values twice as large for marriages but the same relative frequency.\n\n\nhist(florentine.nodes$totdegree, main=\"Florentine Marriages: Total Degrees\", xlab=\"Marriages\")\n\n\n\n\n\n\nhist(florentine.nodes$indegree, main=\"Florentine Marriages: In-Degrees\", xlab=\"Marriages\")\n\n\n\n\n\n\nhist(florentine.nodes$outdegree, main=\"Florentine Marriages: Out-Degrees\", xlab=\"Marriages\")\n\n\n\n\nThese results do make degree analysis ineffectual on the dataset, but offer some potential questions. Specifically it would be useful to look at dynamics of marriages “into” other families as this would have been important at the time. Though marriage is considered symmetric in this dataset it was often used in asymmetric ways during the medieval and renaissance times as a means of diplomacy and establishing goodwill between nobility and as a result the ties between the families are not necessarily symmetric in all cases. It would be interesting to see married into what families in terms of sex and birth status hierarchy i.e. first, second, third born, etc.\n\n\nflo_sorted_by_total_degree<-florentine.nodes[order(-florentine.nodes$totdegree),]\n\nflo_sorted_by_total_degree\n\n\n           name totdegree indegree outdegree\n9        Medici        12        6         6\n7      Guadagni         8        4         4\n15      Strozzi         8        4         4\n2       Albizzi         6        3         3\n4      Bischeri         6        3         3\n5    Castellani         6        3         3\n11      Peruzzi         6        3         3\n13      Ridolfi         6        3         3\n16   Tornabuoni         6        3         3\n3     Barbadori         4        2         2\n14     Salviati         4        2         2\n1    Acciaiuoli         2        1         1\n6        Ginori         2        1         1\n8  Lamberteschi         2        1         1\n10        Pazzi         2        1         1\n12        Pucci         0        0         0\n\nThe results above indicate that the medici family are the most “central” node in the network having the most marriages and thus the most in-degrees and out-degrees. The mean of these two degrees is 2.5 in the dataset thus they have more than double the average marriages, however 4 other families have just 2, while the pucci’s have no ties.\nThis also poses the question as to whether or not there are more families that could be included and what the criteria was for allowance in the florentine family data. In this case 4-6 marriages is the most common with 6 nodes having 4-6 marriages.\nThe least central are the Pucci family who are included in the dataset but have no edges or connections to others families by marriage. The Acciaiuoli, Ginori, Lamberteschi, and Pazzi all have 2 total ties, one in and one out representing a single marriage.\n\n\ncentralization(statted_florentine, degree, cmode=\"indegree\")\n\n\n[1] 0.2488889\n\nThe measure of centralization above represents how concentrated edges between nodes are concentrated among actors. He centralization is slightly less than 25% which would indicate that concentration is relatively low this follows from the low transitivity of the network as a whole, there very few actual connections as compared to the possible connections. As a result of these findings it appears as if the network is not extremely centralized with most families having 2-3 marriages with the largest only being 6. The network also has a low level of transitivity as most nodes are not connected to one another.\nHowever it is important to note that we do not know aspects certain aspects of the families that are relevant to understanding the extent of the network’s true connectivity, this could be heirs with ties to both families marriages and the number of marriages between families that happened out of the possible number afforded to each family by their number of heirs. Having family tree measurements would allow for more meaningful analysis that could make the network truly directed by seeing who married into what family and what they represented to their families in terms of succession including their effects in creating prior generations that continued these connections.\n\n\n\n",
    "preview": "posts/2022-02-07-florentine-families-week-3-assignment/florentine-families-week-3-assignment_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2022-02-10T20:32:18-05:00",
    "input_file": "florentine-families-week-3-assignment.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-01-31-homework2network/",
    "title": "Homework_2_Network",
    "description": "A short description of the post.",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-01-31",
    "categories": [],
    "contents": "\n\n\nlibrary(network)\n\nlibrary(igraph)\n\nlibrary(aRtsy)\n\n\n\n\n\nset.seed(1)\ncanvas_diamonds(colors = colorPalette(\"klimt\"))\n\n\n\n\n\n\ndata(flo, package=\"network\")\n\nmatrix <- as.matrix(flo) \n\nflorentine<- graph.adjacency(flo, mode=\"directed\", weighted=NULL)\n\n\nplot(florentine)\n\n\n\n\n\n\nvcount(florentine)\n\n\n[1] 16\n\necount(florentine)\n\n\n[1] 40\n\n\n\n\n",
    "preview": "posts/2022-01-31-homework2network/homework2network_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2022-02-01T13:11:48-05:00",
    "input_file": "homework2network.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/2022-01-31-the-sharpe-ratio/",
    "title": "Initial Network Analysis Florentine Family",
    "description": "Homework 2: Brief Analysis of the Florentine Family Set",
    "author": [
      {
        "name": "Noah Milstein",
        "url": {}
      }
    ],
    "date": "2022-01-31",
    "categories": [],
    "contents": "\n\n\n\n\n\n\nChosen Network:\nThe Network I chose was the Florentine family dataset network from the network package. This dataset represents marriages between influential families in Florence. Each node represents a family with arrows indicating which family married into which other family.\nNetwork Size:\nNetwork size for the Florentine Family network dataset is described briefly by the code below:\n\n\nset.seed(2)\n# I access the florentine families dataset through the package \"network\"\n\ndata(flo, package=\"network\")\n\n# In order to make the dataset usable I make it into a matrix using as.matrix()\n\nmatrix_florentine <- as.matrix(flo) \n\n# Next I used the graph.adjacency command to make the florentine dataset into\n# An Adjacency Matrix \n\nflorentine<- graph.adjacency(flo, mode=\"directed\", weighted=NULL)\n\nplot(florentine, vertex.color=\"skyblue1\", vertex.label.color=\"navy\", \n     vertex.label.dist=1, vertex.size=7,  edge.arrow.size=0.5, margin=0000)\n\n\n\n\n\n\nvcount(florentine)\n\n\n[1] 16\n\necount(florentine)\n\n\n[1] 40\n\n\n\nstatted_florentine<-as.network(matrix_florentine)\nprint(statted_florentine)\n\n\n Network attributes:\n  vertices = 16 \n  directed = TRUE \n  hyper = FALSE \n  loops = FALSE \n  multiple = FALSE \n  bipartite = FALSE \n  total edges= 40 \n    missing edges= 0 \n    non-missing edges= 40 \n\n Vertex attribute names: \n    vertex.names \n\nNo edge attributes\n\nThe number of vertices in the dataset is 16, in this case these nodes each represent a florentine family. Te number of edges is 40. In this instance ties or edges, represent marriages between these influential families. The is the same in both the statnet and igraph outputs.\nNetwork Features\nNext the features of the dataset are described using the 3 commands in the code chunk below.\n\n\nis_bipartite(florentine)\n\n\n[1] FALSE\n\nis_directed(florentine)\n\n\n[1] TRUE\n\nis_weighted(florentine)\n\n\n[1] FALSE\n\nThese results suggests that the florentine family dataset is not bipartite, which would indicate that they do not fall into to sets. In addition the dataset’s ties are directed do they flow in directions as a result of which family is marrying to which, and the ties are unweighted because marriage cannot vary in numerican significance, it is simply a category that is either true or false between families.\n\n\nvertex_attr_names(florentine)\n\n\n[1] \"name\"\n\nedge_attr_names(florentine)\n\n\ncharacter(0)\n\n\n\nnetwork::list.vertex.attributes(statted_florentine)\n\n\n[1] \"na\"           \"vertex.names\"\n\nnetwork::list.edge.attributes(statted_florentine)\n\n\n[1] \"na\"\n\nThe vector attribute names are the names of the florentine families.\nThe edge attributes do not have name.\nDyad and Triad Census\nDyads\n\n\nigraph::dyad.census(florentine)\n\n\n$mut\n[1] 20\n\n$asym\n[1] 0\n\n$null\n[1] 100\n\n\n\nsna::dyad.census(statted_florentine)\n\n\n     Mut Asym Null\n[1,]  20    0  100\n\nThe dyad census indicates that amongest that among the dyad ties, being between 2 families, 20 are mutual and none are asymptotic. In addition 100 of the dyad are null, or not connected.\nTriads\n\n\nigraph::triad_census(florentine)\n\n\n [1] 324   0 195   0   0   0   0   0   0   0  38   0   0   0   0   3\n\n?triad_census(florentine)\n\n\n\n\n\nsna::triad.census(statted_florentine, mode=\"graph\")\n\n\n       0   1  2 3\n[1,] 324 195 38 3\n\n\n\nsum(sna::triad.census(statted_florentine, mode=\"graph\"))\n\n\n[1] 560\n\nFor dyads there are 16 possibilities. Here our results are as follows:\n324, 003 (A,B,C, the empty graph.)\n195, 102 (A<->B, C, the graph with a mutual connection between two vertices.)\nboth of which are vacuously transitive\n38, 030C (A<-B<-C, A->C.)\n3, 300 (A<->B<->C, A<->C, the complete graph.)\nwhich are both transitive\nBoth statnet and igraph confirm this, however igraph specifies the exact instances of each type of connection.\nNetwork Transitivity\n\n\ntransitivity(florentine, type=\"global\")\n\n\n[1] 0.1914894\n\nThe global transitivity of the graph is 0.1914894 which is the ratio of triangles to connected triangles.\n\n\ntransitivity(florentine, type=\"average\")\n\n\n[1] 0.2181818\n\nThe average transitivity is the average transitivity of local triad clusters. Here it is 0.2181818. This is the ratio of local triangles to all connected triangles.\n\n\ngtrans(statted_florentine)\n\n\n[1] 0.1914894\n\nStatnet code confirms this transitivity assessment.\n\n\nV(florentine)[c(\"Peruzzi\",\"Lamberteschi\", \"Ginori\")]\n\n\n+ 3/16 vertices, named, from e7ac6d4:\n[1] Peruzzi      Lamberteschi Ginori      \n\nNetwork Distances\nFirst we see that the average path length between 2 nodes in our dataset is 2.485714\n\n\naverage.path.length(florentine,directed=F)\n\n\n[1] 2.485714\n\nI then test the distances between 3 families, those being the Peruzzi, Lamberteschi, and Ginori\n\n\ndistances(florentine,\"Peruzzi\", \"Lamberteschi\")\n\n\n        Lamberteschi\nPeruzzi            3\n\nThe distance between the nodes of Peruzzi and Lamberteschi is 3\n\n\ndistances(florentine,\"Peruzzi\", \"Ginori\")\n\n\n        Ginori\nPeruzzi      4\n\nThe distance between the nodes of Peruzzi and Ginori is 4\n\n\ndistances(florentine,\"Lamberteschi\",\"Ginori\")\n\n\n             Ginori\nLamberteschi      3\n\nThe distance between the nodes of Lamberteschi and Ginori is 3.\n\n\nisolates(statted_florentine)\n\n\n[1] 12\n\nThe names of all families in our dataset is as follows:\n\n\nas.vector(statted_florentine%v%'vertex.names')\n\n\n [1] \"Acciaiuoli\"   \"Albizzi\"      \"Barbadori\"    \"Bischeri\"    \n [5] \"Castellani\"   \"Ginori\"       \"Guadagni\"     \"Lamberteschi\"\n [9] \"Medici\"       \"Pazzi\"        \"Peruzzi\"      \"Pucci\"       \n[13] \"Ridolfi\"      \"Salviati\"     \"Strozzi\"      \"Tornabuoni\"  \n\nThe names of the isolated influential families is as follows below:\n\n\nas.vector(statted_florentine%v%'vertex.names')[c(isolates(statted_florentine))]\n\n\n[1] \"Pucci\"\n\n\n\n\n",
    "preview": "posts/2022-01-31-the-sharpe-ratio/Homework_2_Noah_Milstein_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2022-02-02T23:34:49-05:00",
    "input_file": "Homework_2_Noah_Milstein.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to My Blog!",
    "description": "This is my New blog for code relating to Political and Social Networks",
    "author": [
      {
        "name": "Noah Milstein",
        "url": "https://example.com/norajones"
      }
    ],
    "date": "2022-01-31",
    "categories": [],
    "contents": "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "preview": "posts/welcome/welcome_files/figure-html5/unnamed-chunk-5-1.png",
    "last_modified": "2022-02-03T13:53:55-05:00",
    "input_file": "welcome.knit.md",
    "preview_width": 1248,
    "preview_height": 768
  }
]
