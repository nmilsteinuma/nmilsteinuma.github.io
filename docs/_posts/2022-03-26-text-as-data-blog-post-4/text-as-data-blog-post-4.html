<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Text as Data Blog Post 4</title>

  <meta property="description" itemprop="description" content="In last weeks post I combined a the material for blog posts 2, 3, and began on the 4th post. As a result this will be a continuation of dictionary validation methods."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-03-26"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-03-26"/>
  <meta name="article:author" content="Noah Milstein"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Text as Data Blog Post 4"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="In last weeks post I combined a the material for blog posts 2, 3, and began on the 4th post. As a result this will be a continuation of dictionary validation methods."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Text as Data Blog Post 4"/>
  <meta property="twitter:description" content="In last weeks post I combined a the material for blog posts 2, 3, and began on the 4th post. As a result this will be a continuation of dictionary validation methods."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Text as Data Blog Post 4"]},{"type":"character","attributes":{},"value":["In last weeks post I combined a the material for blog posts 2, 3, and began on the 4th post. As a result this will be a continuation of dictionary validation methods.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Noah Milstein"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]}]},{"type":"character","attributes":{},"value":["2022-03-26"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["New_reddit_posts_3_26","text-as-data-blog-post-4_files/anchor-4.2.2/anchor.min.js","text-as-data-blog-post-4_files/bowser-1.9.3/bowser.min.js","text-as-data-blog-post-4_files/distill-2.2.21/template.v2.js","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-10-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-15-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-16-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-17-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-18-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-19-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-20-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-29-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-30-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-32-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-33-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-34-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-35-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-39-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-40-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-41-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-42-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-43-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-46-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-48-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-62-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-63-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-8-1.png","text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-9-1.png","text-as-data-blog-post-4_files/header-attrs-2.13/header-attrs.js","text-as-data-blog-post-4_files/jquery-3.6.0/jquery-3.6.0.js","text-as-data-blog-post-4_files/jquery-3.6.0/jquery-3.6.0.min.js","text-as-data-blog-post-4_files/jquery-3.6.0/jquery-3.6.0.min.map","text-as-data-blog-post-4_files/popper-2.6.0/popper.min.js","text-as-data-blog-post-4_files/tippy-6.2.7/tippy-bundle.umd.min.js","text-as-data-blog-post-4_files/tippy-6.2.7/tippy-light-border.css","text-as-data-blog-post-4_files/tippy-6.2.7/tippy.css","text-as-data-blog-post-4_files/tippy-6.2.7/tippy.umd.min.js","text-as-data-blog-post-4_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="text-as-data-blog-post-4_files/header-attrs-2.13/header-attrs.js"></script>
  <script src="text-as-data-blog-post-4_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="text-as-data-blog-post-4_files/popper-2.6.0/popper.min.js"></script>
  <link href="text-as-data-blog-post-4_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="text-as-data-blog-post-4_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="text-as-data-blog-post-4_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="text-as-data-blog-post-4_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="text-as-data-blog-post-4_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="text-as-data-blog-post-4_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="text-as-data-blog-post-4_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Text as Data Blog Post 4","description":"In last weeks post I combined a the material for blog posts 2, 3, and began on the 4th post. As a result this will be a continuation of dictionary validation methods.","authors":[{"author":"Noah Milstein","authorURL":{},"affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-03-26T00:00:00.000-04:00","citationText":"Milstein, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Text as Data Blog Post 4</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>In last weeks post I combined a the material for blog posts 2, 3,
and began on the 4th post. As a result this will be a continuation of
dictionary validation methods.</p></p>
</div>

<div class="d-byline">
  Noah Milstein true 
  
<br/>2022-03-26
</div>

<div class="d-article">
<div class="layout-chunk" data-layout="l-body">

</div>
<h2 id="blog-post-3-and-4">Blog Post 3 and 4:</h2>
<h3 id="third-blog-post-and-continuation">Third Blog Post and
Continuation</h3>
<p><strong>Explanation:</strong> This post covers material from week 5
pre-processing, week 6 representing text, and week 7 dictionary methods.
In this case I have slightly modified the data I am working with, this
week I am using 1000 new posts for a dictionary analysis rather than the
“top” posts to see if there is a tangible difference in content.</p>
<h4 id="inital-loading-and-processing">Inital Loading and
Processing</h4>
<p><strong>Explanation:</strong> My code below illustrates how I
initially got my information from reddit by scraping. In this case I
used RedditExtractoR. The author of this packages describes it as a
minimalist r wrapper it scrapes a limited number of posts from reddit.
The api on reddit itself only allows 60 requests per minute. In this
case I chose posts that were “new” as of march 26 2022 at 11:17 P.M.
This has resulted in 980 reddit posts, this subreddit is described as
“Firearms and related articles” and much of the subreddit is
descriptions of, reviews, and highlights of firearms owned by users.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># New_guns_urls &lt;- find_thread_urls(subreddit="guns", sort_by="new")</span>


<span class='va'>loadRData</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>fileName</span><span class='op'>)</span><span class='op'>{</span>
<span class='co'>#loads an RData file, and returns it</span>
    <span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span><span class='va'>fileName</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/get.html'>get</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>!=</span> <span class='st'>"fileName"</span><span class='op'>]</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='va'>New_guns_urls_df</span> <span class='op'>&lt;-</span> <span class='fu'>loadRData</span><span class='op'>(</span><span class='st'>"/Users/noahmilstein/Desktop/Spring 2022/Networks/Git_Projects/DACCS/nmilsteinuma.github.io/docs/_posts/2022-03-26-text-as-data-blog-post-4/New_reddit_posts_3_26.RData"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>New_guns_urls_df</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&#39;data.frame&#39;:   980 obs. of  7 variables:
 $ date_utc : chr  &quot;2022-03-15&quot; &quot;2022-03-15&quot; &quot;2022-03-15&quot; &quot;2022-03-15&quot; ...
 $ timestamp: num  1.65e+09 1.65e+09 1.65e+09 1.65e+09 1.65e+09 ...
 $ title    : chr  &quot;With tiny ar15s and mcx/similar, where does a pcc fit in the arsenal now?&quot; &quot;I still don\031t feel like this is good enough. Ha. Anyone else this anal about this stuff?&quot; &quot;Best Home Defense Round in 5.56?&quot; &quot;5\0365*5/555&amp;53 5\r50535.5\&quot;5-&quot; ...
 $ text     : chr  &quot;With the advent of small ar15s and similar foldy boys like the mcx, where does the pcc fit in now?\n\nSeems tha&quot;| __truncated__ &quot;&quot; &quot;I&#39;m looking for some defensive rounds for my AR-15 that are reliable. Lately I&#39;ve been shooting 55 Grain XTac g&quot;| __truncated__ &quot;&quot; ...
 $ subreddit: chr  &quot;guns&quot; &quot;guns&quot; &quot;guns&quot; &quot;guns&quot; ...
 $ comments : num  32 23 73 12 51 29 25 13 32 7 ...
 $ url      : chr  &quot;https://www.reddit.com/r/guns/comments/teruk1/with_tiny_ar15s_and_mcxsimilar_where_does_a_pcc/&quot; &quot;https://www.reddit.com/r/guns/comments/ter4zi/i_still_dont_feel_like_this_is_good_enough_ha/&quot; &quot;https://www.reddit.com/r/guns/comments/ter48v/best_home_defense_round_in_556/&quot; &quot;https://www.reddit.com/r/guns/comments/teqkl1/5\0365*5/555&amp;53_5\r50535.5\&quot;5-/&quot; ...</code></pre>
</div>
<h4 id="conversion-from-data-frame-to-corpus">Conversion From Data Frame
to Corpus</h4>
<p><strong>Explanation:</strong> Below I have processed my initial
dataframe from Reddit into a corpus and saved a summary of the resulting
data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>new_guns_urls_df</span><span class='op'>&lt;-</span><span class='va'>New_guns_urls_df</span><span class='op'>[</span>,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"title"</span>, <span class='st'>"date_utc"</span>, <span class='st'>"comments"</span><span class='op'>)</span><span class='op'>]</span>

<span class='va'>new_guns_corpus</span><span class='op'>&lt;-</span><span class='fu'>corpus</span><span class='op'>(</span><span class='va'>new_guns_urls_df</span><span class='op'>$</span><span class='va'>title</span><span class='op'>)</span>

<span class='va'>new_guns_documents</span><span class='op'>&lt;-</span><span class='va'>new_guns_corpus</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>,<span class='op'>]</span>

<span class='va'>new_guns_corpus_summary</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>new_guns_corpus</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h3 id="broad-characteristics">Broad Characteristics</h3>
<p><strong>Explanation:</strong> In order to clean the documents for
pre-processing and analysis I have removed punctuation, converted to
lowercase and removed stopwords. Though the language of firearms is
often associated with punctuation, such as 5.56, 3.57, and a variety of
other calibers, which represent the diameter of the barrel required to
fire each ammunition. However, losing the punctuation in caliber and
firearm titles would not reduce their comprehensibility in analysis if
they retain their form as 5.56 and 556 can be considered equally while
reducing the complexity of tokens and potentially even sentences.
Converting the documents to lowercase can also simplifies the data.
However, for my inital analysis I will just being making a lowercase
document feature matrix and a more edited one.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>new_guns_corpus_dfm_tl</span><span class='op'>&lt;-</span><span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span><span class='op'>)</span> <span class='op'>%&gt;%</span>  <span class='fu'>dfm</span><span class='op'>(</span>tolower<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> 

<span class='va'>new_guns_corpus_dfm_punct_tl_sw</span> <span class='op'>&lt;-</span> <span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span>,
                                    remove_punct <span class='op'>=</span> <span class='cn'>TRUE</span>,<span class='op'>)</span> <span class='op'>%&gt;%</span>
                           <span class='fu'>dfm</span><span class='op'>(</span>tolower<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
                           <span class='fu'>dfm_remove</span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>'english'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="top-features">Top features</h4>
<p><strong>Explanation:</strong> Examining the top 20 features below we
see a fairly predictable set of response, as may be expected from the
gun subreddit, the most used word is gun. Rifle and pistol are also in
the top 20. Individual letters such as “ar”, “s”, and “m” appear
frequently as they are commonly used designations for types of firearms
or model names, ar-12, ar-15, m-4, m-16, m1911, 5-mm, and s559, s-12 and
other designations. This indicates that these numbers are valuable, if
difficult to comprehend on their own. With no punctuation removed the
first 20 features are not informative.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>topfeatures</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_tl</span>, <span class='fl'>20</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>    .     ?     a   the    my     ,     i    to   for   and    is 
  425   260   259   211   183   175   175   158   112   108    99 
   in    it     /    of  with   gun  this    on first 
   93    89    84    81    80    78    76    76    60 </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>topfeatures</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span>, <span class='fl'>20</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     gun    first      new       22      can        s question 
      78       60       57       43       41       35       31 
   rifle     just      amp     help   anyone       ar   pistol 
      29       29       28       27       26       26       26 
    time     guns     know     good      got        m 
      25       24       23       22       22       22 </code></pre>
</div>
<h4 id="world-cloud">World Cloud</h4>
<p><strong>Explanation:</strong> Though not necessarily statistically
informative, the wordcloud below can give some sense of comparative
frequency using the limit of minimum count being 6. Reading through
these can give a sense of both the communal nature of the forum in
asking for recommendations, but also the importance of the word purchase
and other words associated with working with, and buying firearms. In
the case of the only lowercased data we can gather much less
information.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123456</span><span class='op'>)</span>

<span class='fu'>textplot_wordcloud</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_tl</span>, min_count <span class='op'>=</span> <span class='fl'>12</span>, random_order <span class='op'>=</span> <span class='cn'>T</span>, rotation <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123456</span><span class='op'>)</span>

<span class='fu'>textplot_wordcloud</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span>, min_count <span class='op'>=</span> <span class='fl'>6</span>, random_order <span class='op'>=</span> <span class='cn'>T</span>, rotation <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<h4 id="types-tokens-and-sentances">Types, Tokens, and Sentances</h4>
<h5 id="types">Types</h5>
<p><strong>Explanation:</strong> The gun corpus summary gives 3 counting
categories that we can interpret in order to get a sense of the
complexity of the documents that we are using. Looking at the number of
types on average we see a mean of 9.18 and qunantiles that indicate a
range of 2-45 with 50% being between 4 and 13 types.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Types</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 9.18</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Types</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  0%  25%  50%  75% 100% 
 2.0  4.0  7.5 13.0 45.0 </code></pre>
</div>
<h5 id="tokens">Tokens</h5>
<p><strong>Explanation:</strong> Tokens are relatively similar to types
in this case. Here there is a mean of 9.72 but a range of 2-55 with the
middle 50% ranging from 4-13 tokens, as was the case for types.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Tokens</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 9.72</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Tokens</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  0%  25%  50%  75% 100% 
   2    4    8   13   55 </code></pre>
</div>
<h5 id="sentances">Sentances</h5>
<p><strong>Explanation:</strong> As is indicated below, it appears that
the number of sentences in each post is generally one. Arroding to the
qunatile statistics the most sentences in any post</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Sentences</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1.18</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/quantile.html'>quantile</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_summary</span><span class='op'>$</span><span class='va'>Sentences</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  0%  25%  50%  75% 100% 
   1    1    1    1    3 </code></pre>
</div>
<h5 id="word-counts">Word counts</h5>
<p><strong>Explanation:</strong> Looking at word counts we see a similar
trend reflected where including stopwords and punctuation decreases the
quality of data as little information but punctuation and stopwords are
included.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>word_counts_new_1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>colSums</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_tl</span><span class='op'>)</span>,dec<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>word_counts_new_1</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Frequency"</span><span class='op'>)</span>

<span class='va'>word_counts_new_1</span><span class='op'>$</span><span class='va'>Rank</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_tl</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>word_counts_new_1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>    Frequency Rank
.         425    1
?         260    2
a         259    3
the       211    4
my        183    5
,         175    6</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>word_counts_new</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>colSums</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span><span class='op'>)</span>,dec<span class='op'>=</span><span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>word_counts_new</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Frequency"</span><span class='op'>)</span>

<span class='va'>word_counts_new</span><span class='op'>$</span><span class='va'>Rank</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>word_counts_new</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>      Frequency Rank
gun          78    1
first        60    2
new          57    3
22           43    4
can          41    5
s            35    6</code></pre>
</div>
<h5 id="zipfs-law">Zipf’s Law</h5>
<p><strong>Explanation:</strong> As can be seen from the frequency
graphs below, Ziph’s Law of inverse proportion. In this case a words
rank in freqency is inversely prorportional to the number of times it is
observed. Though the uncleaned dataset has far more frequency for its
most common words (much of which is punctuation) it appears to follow
the law.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>word_counts_new</span>, mapping <span class='op'>=</span> <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>Rank</span>, y <span class='op'>=</span> <span class='va'>Frequency</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_point</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Zipf's Law"</span>, x <span class='op'>=</span> <span class='st'>"Rank"</span>, y <span class='op'>=</span> <span class='st'>"Frequency"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>word_counts_new_1</span>, mapping <span class='op'>=</span> <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>Rank</span>, y <span class='op'>=</span> <span class='va'>Frequency</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_point</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Zipf's Law"</span>, x <span class='op'>=</span> <span class='st'>"Rank"</span>, y <span class='op'>=</span> <span class='st'>"Frequency"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-16-1.png" width="624" /></p>
</div>
<h5 id="data-trimming">Data Trimming</h5>
<p><strong>Explanation:</strong> Much of what I do here will be
explained in the code and results. Many words appear with a minimum
frequency of 4, though non are included in 10% and only 3 words are
included in 5%. At a level of 2.5% we get 4 words.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># First I trim the data to only include words that appear at least 4 times</span>

<span class='va'>smaller_dfm_4_freq</span> <span class='op'>&lt;-</span> <span class='fu'>dfm_trim</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span>, min_termfreq <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>

<span class='co'># Next I will look at proportions are see if there are words that are seen in</span>
<span class='co'># More than 10% and 5% of documents</span>
<span class='va'>smaller_dfm_10_p</span> <span class='op'>&lt;-</span> <span class='fu'>dfm_trim</span><span class='op'>(</span><span class='va'>smaller_dfm_4_freq</span>, min_docfreq <span class='op'>=</span> <span class='fl'>0.1</span>, docfreq_type <span class='op'>=</span> <span class='st'>"prop"</span><span class='op'>)</span>

<span class='va'>smaller_dfm_5_p</span> <span class='op'>&lt;-</span> <span class='fu'>dfm_trim</span><span class='op'>(</span><span class='va'>smaller_dfm_4_freq</span>, min_docfreq <span class='op'>=</span> <span class='fl'>0.05</span>, docfreq_type <span class='op'>=</span> <span class='st'>"prop"</span><span class='op'>)</span>

<span class='va'>smaller_dfm_2.5_p</span> <span class='op'>&lt;-</span> <span class='fu'>dfm_trim</span><span class='op'>(</span><span class='va'>smaller_dfm_4_freq</span>, min_docfreq <span class='op'>=</span> <span class='fl'>0.025</span>,  docfreq_type <span class='op'>=</span> <span class='st'>"prop"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="data-readability">Data Readability</h4>
<p><strong>Explanation:</strong> Before making general modifications to
the data, it is valuable to also get a sense of readability, as in week
5. In this case we will calculate readability scores based on 3
different measures, FOG, Coleman Liau, and Flesch Kincaid. Though this
step will not indicate what sort of pre-processing is best, or how the
data should be reduced, it does give us some insight into the complexity
of the language in our data. In this case we just observe the
readability based on the post number.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>readability_new_guns</span> <span class='op'>&lt;-</span> <span class='fu'>textstat_readability</span><span class='op'>(</span><span class='va'>new_guns_corpus</span>, 
                                    measure <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Flesch.Kincaid"</span>, <span class='st'>"FOG"</span>, <span class='st'>"Coleman.Liau.grade"</span><span class='op'>)</span><span class='op'>)</span> 

<span class='co'># add in a chapter number</span>

<span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>reddit_post</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>readability_new_guns</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># plot results</span>
<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>readability_new_guns</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>reddit_post</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>Flesch.Kincaid</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"black"</span>,  alpha<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>FOG</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"red"</span>, alpha<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>Coleman.Liau.grade</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"blue"</span>, alpha<span class='op'>=</span><span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-18-1.png" width="624" /></p>
</div>
<p><strong>Explanation:</strong> In this part we will add dates to our
data to see how the complexity changes over time or if it was relatively
constant. As can be seen below, the amount of complexity in the data
varies more smoothly when the data are sorted by data and not
arbitrarily by their post number, in this case all 3 complexity method
exhibit similar trends.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>added_dates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>New_guns_urls_df</span><span class='op'>$</span><span class='va'>date_utc</span><span class='op'>)</span>

<span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>readability_new_guns</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>added_dates</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_smooth</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>Flesch.Kincaid</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_smooth</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>FOG</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_smooth</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>Coleman.Liau.grade</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-19-1.png" width="624" /></p>
</div>
<p><strong>Explanation:</strong> Looking at the readability of the we
see that all correlations between the methods of complexity measurement
are similar except of FOG and Coleman Liau, however the graphs above do
indicate some similarity in trend between them, though not direct
correlation in their estimates potentially.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>Flesch.Kincaid</span>, <span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>FOG</span>, use <span class='op'>=</span> <span class='st'>"complete.obs"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.8321041</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>Flesch.Kincaid</span>, <span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>Coleman.Liau.grade</span>, use <span class='op'>=</span> <span class='st'>"complete.obs"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.751674</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>cor</a></span><span class='op'>(</span><span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>FOG</span>, <span class='va'>readability_new_guns</span><span class='op'>$</span><span class='va'>Coleman.Liau.grade</span>, use <span class='op'>=</span> <span class='st'>"complete.obs"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.5859859</code></pre>
</div>
<h4 id="pre-processing-before-reduction-and-co-occurance">Pre-processing
Before Reduction and Co-Occurance</h4>
<p><strong>Explanation:</strong> Next I used the
factorial_preprocessing() command to both use n-grams processing and use
an infrequent term threshold. This is in order to see what techniques,
such as removing punctuation, stopwords, etc lead to a pre-text score
devised by Denny and Spirling. This pre-text score indicatess how many
k-pairs of terms change the most when the pre-processing strategy is
changed. Lower scores indicate more usual results while higher scores
indicate more unusual results and they are between 0 and 1. Here we have
used n-grams and set an infreqent term threshold. Because of the nature
of our data I will use 30% of documents as</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='op'>?</span><span class='va'>factorial_preprocessing</span>
<span class='va'>preprocessed_documents</span> <span class='op'>&lt;-</span> <span class='fu'>factorial_preprocessing</span><span class='op'>(</span>
    <span class='va'>new_guns_corpus</span>,
    use_ngrams <span class='op'>=</span> <span class='cn'>TRUE</span>,
    infrequent_term_threshold <span class='op'>=</span> <span class='fl'>0.3</span>,
    verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Preprocessing 980 documents 128 different ways...</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>preprocessed_documents</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;choices&quot;  &quot;dfm_list&quot; &quot;labels&quot;  </code></pre>
</div>
<p><strong>Explanation:</strong> As can be seen below the possible
choices are coded on the first column with each subsequent column
indicating whether or not each choice includes each of the specified
choices in its assessment.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>preprocessed_documents</span><span class='op'>$</span><span class='va'>choices</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>              removePunctuation removeNumbers lowercase stem
P-N-L-S-W-I-3              TRUE          TRUE      TRUE TRUE
N-L-S-W-I-3               FALSE          TRUE      TRUE TRUE
P-L-S-W-I-3                TRUE         FALSE      TRUE TRUE
L-S-W-I-3                 FALSE         FALSE      TRUE TRUE
P-N-S-W-I-3                TRUE          TRUE     FALSE TRUE
N-S-W-I-3                 FALSE          TRUE     FALSE TRUE
              removeStopwords infrequent_terms use_ngrams
P-N-L-S-W-I-3            TRUE             TRUE       TRUE
N-L-S-W-I-3              TRUE             TRUE       TRUE
P-L-S-W-I-3              TRUE             TRUE       TRUE
L-S-W-I-3                TRUE             TRUE       TRUE
P-N-S-W-I-3              TRUE             TRUE       TRUE
N-S-W-I-3                TRUE             TRUE       TRUE</code></pre>
</div>
<p><strong>Explanation:</strong> Next preText is calculated using 50
comparisons and a cosine distance calculation.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#set.seed(12366)</span>
<span class='co'>#preText_results &lt;- preText(</span>
<span class='co'>#    preprocessed_documents,</span>
<span class='co'>#   dataset_name = "Gun Pretext Results",</span>
<span class='co'>#   distance_method = "cosine",</span>
<span class='co'>#   num_comparisons = 50,</span>
<span class='co'>#  verbose = TRUE)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#save(preText_results, file="preText_results_3_27_gun_50_comp.RData")</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>preText_results</span> <span class='op'>&lt;-</span> <span class='fu'>loadRData</span><span class='op'>(</span><span class='st'>"~/Desktop/Spring 2022/Networks/Git_Projects/DACCS/nmilsteinuma.github.io/docs/_posts/2022-03-26-text-as-data-blog-post-4/preText_results_3_27_gun_50_comp.RData"</span><span class='op'>)</span>

<span class='va'>preText_results</span>
</code></pre>
</div>
<pre><code>$preText_scores
    preText_score preprocessing_steps
1      0.04157825       P-N-L-S-W-I-3
2      0.04157825         N-L-S-W-I-3
3      0.04157825         P-L-S-W-I-3
4      0.04157825           L-S-W-I-3
5      0.04157825         P-N-S-W-I-3
6      0.04157825           N-S-W-I-3
7      0.04157825           P-S-W-I-3
8      0.04157825             S-W-I-3
9      0.04157825         P-N-L-W-I-3
10     0.04157825           N-L-W-I-3
11     0.04157825           P-L-W-I-3
12     0.04157825             L-W-I-3
13     0.04157825           P-N-W-I-3
14     0.04157825             N-W-I-3
15     0.04157825             P-W-I-3
16     0.04157825               W-I-3
17     0.04157825         P-N-L-S-I-3
18     0.04157825           N-L-S-I-3
19     0.04157825           P-L-S-I-3
20     0.04157825             L-S-I-3
21     0.04157825           P-N-S-I-3
22     0.04157825             N-S-I-3
23     0.04157825             P-S-I-3
24     0.04157825               S-I-3
25     0.04157825           P-N-L-I-3
26     0.04157825             N-L-I-3
27     0.04157825             P-L-I-3
28     0.04157825               L-I-3
29     0.04157825             P-N-I-3
30     0.04157825               N-I-3
31     0.04157825               P-I-3
32     0.04157825                 I-3
33     0.04815400         P-N-L-S-W-3
34     0.08058534           N-L-S-W-3
35     0.04403401           P-L-S-W-3
36     0.08427290             L-S-W-3
37     0.04864279           P-N-S-W-3
38     0.07599185             N-S-W-3
39     0.04470926             P-S-W-3
40     0.08186325               S-W-3
41     0.02723578           P-N-L-W-3
42     0.02629912             N-L-W-3
43     0.02280946             P-L-W-3
44     0.02777490               L-W-3
45     0.02723578             P-N-W-3
46     0.02629912               N-W-3
47     0.02280946               P-W-3
48     0.02777490                 W-3
49     0.02647384           P-N-L-S-3
50     0.08304385             N-L-S-3
51     0.02334213             P-L-S-3
52     0.07225887               L-S-3
53     0.02706859             P-N-S-3
54     0.08697989               N-S-3
55     0.02384351               P-S-3
56     0.07767802                 S-3
57     0.02647384             P-N-L-3
58     0.02777727               N-L-3
59     0.02334213               P-L-3
60     0.01888648                 L-3
61     0.02647384               P-N-3
62     0.02777727                 N-3
63     0.02334213                 P-3
64     0.01888648                   3
65     0.04157825         P-N-L-S-W-I
66     0.04157825           N-L-S-W-I
67     0.04157825           P-L-S-W-I
68     0.04157825             L-S-W-I
69     0.04157825           P-N-S-W-I
70     0.04157825             N-S-W-I
71     0.04157825             P-S-W-I
72     0.04157825               S-W-I
73     0.04157825           P-N-L-W-I
74     0.04157825             N-L-W-I
75     0.04157825             P-L-W-I
76     0.04157825               L-W-I
77     0.04157825             P-N-W-I
78     0.04157825               N-W-I
79     0.04157825               P-W-I
80     0.04157825                 W-I
81     0.04157825           P-N-L-S-I
82     0.04157825             N-L-S-I
83     0.04157825             P-L-S-I
84     0.04157825               L-S-I
85     0.04157825             P-N-S-I
86     0.04157825               N-S-I
87     0.04157825               P-S-I
88     0.04157825                 S-I
89     0.04157825             P-N-L-I
90     0.04157825               N-L-I
91     0.04157825               P-L-I
92     0.04157825                 L-I
93     0.04157825               P-N-I
94     0.04157825                 N-I
95     0.04157825                 P-I
96     0.04157825                   I
97     0.07109905           P-N-L-S-W
98     0.16021925             N-L-S-W
99     0.06767075             P-L-S-W
100    0.17095529               L-S-W
101    0.07098343             P-N-S-W
102    0.15776534               N-S-W
103    0.06802275               P-S-W
104    0.16850136                 S-W
105    0.02723578             P-N-L-W
106    0.02344916               N-L-W
107    0.02280946               P-L-W
108    0.02739263                 L-W
109    0.02723578               P-N-W
110    0.02344916                 N-W
111    0.02280946                 P-W
112    0.02739263                   W
113    0.05006683             P-N-L-S
114    0.22396649               N-L-S
115    0.04704759               P-L-S
116    0.23717659                 L-S
117    0.05064631               P-N-S
118    0.21022978                 N-S
119    0.04752479                 P-S
120    0.23146371                   S
121    0.02635536               P-N-L
122    0.03527452                 N-L
123    0.02342946                 P-L
124    0.10226138                   L
125    0.02635536                 P-N
126    0.03527452                   N
127    0.02342946                   P

$ranked_preText_scores
    preText_score preprocessing_steps
1      0.23717659                 L-S
2      0.23146371                   S
3      0.22396649               N-L-S
4      0.21022978                 N-S
5      0.17095529               L-S-W
6      0.16850136                 S-W
7      0.16021925             N-L-S-W
8      0.15776534               N-S-W
9      0.10226138                   L
10     0.08697989               N-S-3
11     0.08427290             L-S-W-3
12     0.08304385             N-L-S-3
13     0.08186325               S-W-3
14     0.08058534           N-L-S-W-3
15     0.07767802                 S-3
16     0.07599185             N-S-W-3
17     0.07225887               L-S-3
18     0.07109905           P-N-L-S-W
19     0.07098343             P-N-S-W
20     0.06802275               P-S-W
21     0.06767075             P-L-S-W
22     0.05064631               P-N-S
23     0.05006683             P-N-L-S
24     0.04864279           P-N-S-W-3
25     0.04815400         P-N-L-S-W-3
26     0.04752479                 P-S
27     0.04704759               P-L-S
28     0.04470926             P-S-W-3
29     0.04403401           P-L-S-W-3
30     0.04157825       P-N-L-S-W-I-3
31     0.04157825         N-L-S-W-I-3
32     0.04157825         P-L-S-W-I-3
33     0.04157825           L-S-W-I-3
34     0.04157825         P-N-S-W-I-3
35     0.04157825           N-S-W-I-3
36     0.04157825           P-S-W-I-3
37     0.04157825             S-W-I-3
38     0.04157825         P-N-L-W-I-3
39     0.04157825           N-L-W-I-3
40     0.04157825           P-L-W-I-3
41     0.04157825             L-W-I-3
42     0.04157825           P-N-W-I-3
43     0.04157825             N-W-I-3
44     0.04157825             P-W-I-3
45     0.04157825               W-I-3
46     0.04157825         P-N-L-S-I-3
47     0.04157825           N-L-S-I-3
48     0.04157825           P-L-S-I-3
49     0.04157825             L-S-I-3
50     0.04157825           P-N-S-I-3
51     0.04157825             N-S-I-3
52     0.04157825             P-S-I-3
53     0.04157825               S-I-3
54     0.04157825           P-N-L-I-3
55     0.04157825             N-L-I-3
56     0.04157825             P-L-I-3
57     0.04157825               L-I-3
58     0.04157825             P-N-I-3
59     0.04157825               N-I-3
60     0.04157825               P-I-3
61     0.04157825                 I-3
62     0.04157825         P-N-L-S-W-I
63     0.04157825           N-L-S-W-I
64     0.04157825           P-L-S-W-I
65     0.04157825             L-S-W-I
66     0.04157825           P-N-S-W-I
67     0.04157825             N-S-W-I
68     0.04157825             P-S-W-I
69     0.04157825               S-W-I
70     0.04157825           P-N-L-W-I
71     0.04157825             N-L-W-I
72     0.04157825             P-L-W-I
73     0.04157825               L-W-I
74     0.04157825             P-N-W-I
75     0.04157825               N-W-I
76     0.04157825               P-W-I
77     0.04157825                 W-I
78     0.04157825           P-N-L-S-I
79     0.04157825             N-L-S-I
80     0.04157825             P-L-S-I
81     0.04157825               L-S-I
82     0.04157825             P-N-S-I
83     0.04157825               N-S-I
84     0.04157825               P-S-I
85     0.04157825                 S-I
86     0.04157825             P-N-L-I
87     0.04157825               N-L-I
88     0.04157825               P-L-I
89     0.04157825                 L-I
90     0.04157825               P-N-I
91     0.04157825                 N-I
92     0.04157825                 P-I
93     0.04157825                   I
94     0.03527452                 N-L
95     0.03527452                   N
96     0.02777727               N-L-3
97     0.02777727                 N-3
98     0.02777490               L-W-3
99     0.02777490                 W-3
100    0.02739263                 L-W
101    0.02739263                   W
102    0.02723578           P-N-L-W-3
103    0.02723578             P-N-W-3
104    0.02723578             P-N-L-W
105    0.02723578               P-N-W
106    0.02706859             P-N-S-3
107    0.02647384           P-N-L-S-3
108    0.02647384             P-N-L-3
109    0.02647384               P-N-3
110    0.02635536               P-N-L
111    0.02635536                 P-N
112    0.02629912             N-L-W-3
113    0.02629912               N-W-3
114    0.02384351               P-S-3
115    0.02344916               N-L-W
116    0.02344916                 N-W
117    0.02342946                 P-L
118    0.02342946                   P
119    0.02334213             P-L-S-3
120    0.02334213               P-L-3
121    0.02334213                 P-3
122    0.02280946             P-L-W-3
123    0.02280946               P-W-3
124    0.02280946               P-L-W
125    0.02280946                 P-W
126    0.01888648                 L-3
127    0.01888648                   3

$choices
              removePunctuation removeNumbers lowercase  stem
P-N-L-S-W-I-3              TRUE          TRUE      TRUE  TRUE
N-L-S-W-I-3               FALSE          TRUE      TRUE  TRUE
P-L-S-W-I-3                TRUE         FALSE      TRUE  TRUE
L-S-W-I-3                 FALSE         FALSE      TRUE  TRUE
P-N-S-W-I-3                TRUE          TRUE     FALSE  TRUE
N-S-W-I-3                 FALSE          TRUE     FALSE  TRUE
P-S-W-I-3                  TRUE         FALSE     FALSE  TRUE
S-W-I-3                   FALSE         FALSE     FALSE  TRUE
P-N-L-W-I-3                TRUE          TRUE      TRUE FALSE
N-L-W-I-3                 FALSE          TRUE      TRUE FALSE
P-L-W-I-3                  TRUE         FALSE      TRUE FALSE
L-W-I-3                   FALSE         FALSE      TRUE FALSE
P-N-W-I-3                  TRUE          TRUE     FALSE FALSE
N-W-I-3                   FALSE          TRUE     FALSE FALSE
P-W-I-3                    TRUE         FALSE     FALSE FALSE
W-I-3                     FALSE         FALSE     FALSE FALSE
P-N-L-S-I-3                TRUE          TRUE      TRUE  TRUE
N-L-S-I-3                 FALSE          TRUE      TRUE  TRUE
P-L-S-I-3                  TRUE         FALSE      TRUE  TRUE
L-S-I-3                   FALSE         FALSE      TRUE  TRUE
P-N-S-I-3                  TRUE          TRUE     FALSE  TRUE
N-S-I-3                   FALSE          TRUE     FALSE  TRUE
P-S-I-3                    TRUE         FALSE     FALSE  TRUE
S-I-3                     FALSE         FALSE     FALSE  TRUE
P-N-L-I-3                  TRUE          TRUE      TRUE FALSE
N-L-I-3                   FALSE          TRUE      TRUE FALSE
P-L-I-3                    TRUE         FALSE      TRUE FALSE
L-I-3                     FALSE         FALSE      TRUE FALSE
P-N-I-3                    TRUE          TRUE     FALSE FALSE
N-I-3                     FALSE          TRUE     FALSE FALSE
P-I-3                      TRUE         FALSE     FALSE FALSE
I-3                       FALSE         FALSE     FALSE FALSE
P-N-L-S-W-3                TRUE          TRUE      TRUE  TRUE
N-L-S-W-3                 FALSE          TRUE      TRUE  TRUE
P-L-S-W-3                  TRUE         FALSE      TRUE  TRUE
L-S-W-3                   FALSE         FALSE      TRUE  TRUE
P-N-S-W-3                  TRUE          TRUE     FALSE  TRUE
N-S-W-3                   FALSE          TRUE     FALSE  TRUE
P-S-W-3                    TRUE         FALSE     FALSE  TRUE
S-W-3                     FALSE         FALSE     FALSE  TRUE
P-N-L-W-3                  TRUE          TRUE      TRUE FALSE
N-L-W-3                   FALSE          TRUE      TRUE FALSE
P-L-W-3                    TRUE         FALSE      TRUE FALSE
L-W-3                     FALSE         FALSE      TRUE FALSE
P-N-W-3                    TRUE          TRUE     FALSE FALSE
N-W-3                     FALSE          TRUE     FALSE FALSE
P-W-3                      TRUE         FALSE     FALSE FALSE
W-3                       FALSE         FALSE     FALSE FALSE
P-N-L-S-3                  TRUE          TRUE      TRUE  TRUE
N-L-S-3                   FALSE          TRUE      TRUE  TRUE
P-L-S-3                    TRUE         FALSE      TRUE  TRUE
L-S-3                     FALSE         FALSE      TRUE  TRUE
P-N-S-3                    TRUE          TRUE     FALSE  TRUE
N-S-3                     FALSE          TRUE     FALSE  TRUE
P-S-3                      TRUE         FALSE     FALSE  TRUE
S-3                       FALSE         FALSE     FALSE  TRUE
P-N-L-3                    TRUE          TRUE      TRUE FALSE
N-L-3                     FALSE          TRUE      TRUE FALSE
P-L-3                      TRUE         FALSE      TRUE FALSE
L-3                       FALSE         FALSE      TRUE FALSE
P-N-3                      TRUE          TRUE     FALSE FALSE
N-3                       FALSE          TRUE     FALSE FALSE
P-3                        TRUE         FALSE     FALSE FALSE
3                         FALSE         FALSE     FALSE FALSE
P-N-L-S-W-I                TRUE          TRUE      TRUE  TRUE
N-L-S-W-I                 FALSE          TRUE      TRUE  TRUE
P-L-S-W-I                  TRUE         FALSE      TRUE  TRUE
L-S-W-I                   FALSE         FALSE      TRUE  TRUE
P-N-S-W-I                  TRUE          TRUE     FALSE  TRUE
N-S-W-I                   FALSE          TRUE     FALSE  TRUE
P-S-W-I                    TRUE         FALSE     FALSE  TRUE
S-W-I                     FALSE         FALSE     FALSE  TRUE
P-N-L-W-I                  TRUE          TRUE      TRUE FALSE
N-L-W-I                   FALSE          TRUE      TRUE FALSE
P-L-W-I                    TRUE         FALSE      TRUE FALSE
L-W-I                     FALSE         FALSE      TRUE FALSE
P-N-W-I                    TRUE          TRUE     FALSE FALSE
N-W-I                     FALSE          TRUE     FALSE FALSE
P-W-I                      TRUE         FALSE     FALSE FALSE
W-I                       FALSE         FALSE     FALSE FALSE
P-N-L-S-I                  TRUE          TRUE      TRUE  TRUE
N-L-S-I                   FALSE          TRUE      TRUE  TRUE
P-L-S-I                    TRUE         FALSE      TRUE  TRUE
L-S-I                     FALSE         FALSE      TRUE  TRUE
P-N-S-I                    TRUE          TRUE     FALSE  TRUE
N-S-I                     FALSE          TRUE     FALSE  TRUE
P-S-I                      TRUE         FALSE     FALSE  TRUE
S-I                       FALSE         FALSE     FALSE  TRUE
P-N-L-I                    TRUE          TRUE      TRUE FALSE
N-L-I                     FALSE          TRUE      TRUE FALSE
P-L-I                      TRUE         FALSE      TRUE FALSE
L-I                       FALSE         FALSE      TRUE FALSE
P-N-I                      TRUE          TRUE     FALSE FALSE
N-I                       FALSE          TRUE     FALSE FALSE
P-I                        TRUE         FALSE     FALSE FALSE
I                         FALSE         FALSE     FALSE FALSE
P-N-L-S-W                  TRUE          TRUE      TRUE  TRUE
N-L-S-W                   FALSE          TRUE      TRUE  TRUE
P-L-S-W                    TRUE         FALSE      TRUE  TRUE
L-S-W                     FALSE         FALSE      TRUE  TRUE
P-N-S-W                    TRUE          TRUE     FALSE  TRUE
N-S-W                     FALSE          TRUE     FALSE  TRUE
P-S-W                      TRUE         FALSE     FALSE  TRUE
S-W                       FALSE         FALSE     FALSE  TRUE
P-N-L-W                    TRUE          TRUE      TRUE FALSE
N-L-W                     FALSE          TRUE      TRUE FALSE
P-L-W                      TRUE         FALSE      TRUE FALSE
L-W                       FALSE         FALSE      TRUE FALSE
P-N-W                      TRUE          TRUE     FALSE FALSE
N-W                       FALSE          TRUE     FALSE FALSE
P-W                        TRUE         FALSE     FALSE FALSE
W                         FALSE         FALSE     FALSE FALSE
P-N-L-S                    TRUE          TRUE      TRUE  TRUE
N-L-S                     FALSE          TRUE      TRUE  TRUE
P-L-S                      TRUE         FALSE      TRUE  TRUE
L-S                       FALSE         FALSE      TRUE  TRUE
P-N-S                      TRUE          TRUE     FALSE  TRUE
N-S                       FALSE          TRUE     FALSE  TRUE
P-S                        TRUE         FALSE     FALSE  TRUE
S                         FALSE         FALSE     FALSE  TRUE
P-N-L                      TRUE          TRUE      TRUE FALSE
N-L                       FALSE          TRUE      TRUE FALSE
P-L                        TRUE         FALSE      TRUE FALSE
L                         FALSE         FALSE      TRUE FALSE
P-N                        TRUE          TRUE     FALSE FALSE
N                         FALSE          TRUE     FALSE FALSE
P                          TRUE         FALSE     FALSE FALSE
                          FALSE         FALSE     FALSE FALSE
              removeStopwords infrequent_terms use_ngrams
P-N-L-S-W-I-3            TRUE             TRUE       TRUE
N-L-S-W-I-3              TRUE             TRUE       TRUE
P-L-S-W-I-3              TRUE             TRUE       TRUE
L-S-W-I-3                TRUE             TRUE       TRUE
P-N-S-W-I-3              TRUE             TRUE       TRUE
N-S-W-I-3                TRUE             TRUE       TRUE
P-S-W-I-3                TRUE             TRUE       TRUE
S-W-I-3                  TRUE             TRUE       TRUE
P-N-L-W-I-3              TRUE             TRUE       TRUE
N-L-W-I-3                TRUE             TRUE       TRUE
P-L-W-I-3                TRUE             TRUE       TRUE
L-W-I-3                  TRUE             TRUE       TRUE
P-N-W-I-3                TRUE             TRUE       TRUE
N-W-I-3                  TRUE             TRUE       TRUE
P-W-I-3                  TRUE             TRUE       TRUE
W-I-3                    TRUE             TRUE       TRUE
P-N-L-S-I-3             FALSE             TRUE       TRUE
N-L-S-I-3               FALSE             TRUE       TRUE
P-L-S-I-3               FALSE             TRUE       TRUE
L-S-I-3                 FALSE             TRUE       TRUE
P-N-S-I-3               FALSE             TRUE       TRUE
N-S-I-3                 FALSE             TRUE       TRUE
P-S-I-3                 FALSE             TRUE       TRUE
S-I-3                   FALSE             TRUE       TRUE
P-N-L-I-3               FALSE             TRUE       TRUE
N-L-I-3                 FALSE             TRUE       TRUE
P-L-I-3                 FALSE             TRUE       TRUE
L-I-3                   FALSE             TRUE       TRUE
P-N-I-3                 FALSE             TRUE       TRUE
N-I-3                   FALSE             TRUE       TRUE
P-I-3                   FALSE             TRUE       TRUE
I-3                     FALSE             TRUE       TRUE
P-N-L-S-W-3              TRUE            FALSE       TRUE
N-L-S-W-3                TRUE            FALSE       TRUE
P-L-S-W-3                TRUE            FALSE       TRUE
L-S-W-3                  TRUE            FALSE       TRUE
P-N-S-W-3                TRUE            FALSE       TRUE
N-S-W-3                  TRUE            FALSE       TRUE
P-S-W-3                  TRUE            FALSE       TRUE
S-W-3                    TRUE            FALSE       TRUE
P-N-L-W-3                TRUE            FALSE       TRUE
N-L-W-3                  TRUE            FALSE       TRUE
P-L-W-3                  TRUE            FALSE       TRUE
L-W-3                    TRUE            FALSE       TRUE
P-N-W-3                  TRUE            FALSE       TRUE
N-W-3                    TRUE            FALSE       TRUE
P-W-3                    TRUE            FALSE       TRUE
W-3                      TRUE            FALSE       TRUE
P-N-L-S-3               FALSE            FALSE       TRUE
N-L-S-3                 FALSE            FALSE       TRUE
P-L-S-3                 FALSE            FALSE       TRUE
L-S-3                   FALSE            FALSE       TRUE
P-N-S-3                 FALSE            FALSE       TRUE
N-S-3                   FALSE            FALSE       TRUE
P-S-3                   FALSE            FALSE       TRUE
S-3                     FALSE            FALSE       TRUE
P-N-L-3                 FALSE            FALSE       TRUE
N-L-3                   FALSE            FALSE       TRUE
P-L-3                   FALSE            FALSE       TRUE
L-3                     FALSE            FALSE       TRUE
P-N-3                   FALSE            FALSE       TRUE
N-3                     FALSE            FALSE       TRUE
P-3                     FALSE            FALSE       TRUE
3                       FALSE            FALSE       TRUE
P-N-L-S-W-I              TRUE             TRUE      FALSE
N-L-S-W-I                TRUE             TRUE      FALSE
P-L-S-W-I                TRUE             TRUE      FALSE
L-S-W-I                  TRUE             TRUE      FALSE
P-N-S-W-I                TRUE             TRUE      FALSE
N-S-W-I                  TRUE             TRUE      FALSE
P-S-W-I                  TRUE             TRUE      FALSE
S-W-I                    TRUE             TRUE      FALSE
P-N-L-W-I                TRUE             TRUE      FALSE
N-L-W-I                  TRUE             TRUE      FALSE
P-L-W-I                  TRUE             TRUE      FALSE
L-W-I                    TRUE             TRUE      FALSE
P-N-W-I                  TRUE             TRUE      FALSE
N-W-I                    TRUE             TRUE      FALSE
P-W-I                    TRUE             TRUE      FALSE
W-I                      TRUE             TRUE      FALSE
P-N-L-S-I               FALSE             TRUE      FALSE
N-L-S-I                 FALSE             TRUE      FALSE
P-L-S-I                 FALSE             TRUE      FALSE
L-S-I                   FALSE             TRUE      FALSE
P-N-S-I                 FALSE             TRUE      FALSE
N-S-I                   FALSE             TRUE      FALSE
P-S-I                   FALSE             TRUE      FALSE
S-I                     FALSE             TRUE      FALSE
P-N-L-I                 FALSE             TRUE      FALSE
N-L-I                   FALSE             TRUE      FALSE
P-L-I                   FALSE             TRUE      FALSE
L-I                     FALSE             TRUE      FALSE
P-N-I                   FALSE             TRUE      FALSE
N-I                     FALSE             TRUE      FALSE
P-I                     FALSE             TRUE      FALSE
I                       FALSE             TRUE      FALSE
P-N-L-S-W                TRUE            FALSE      FALSE
N-L-S-W                  TRUE            FALSE      FALSE
P-L-S-W                  TRUE            FALSE      FALSE
L-S-W                    TRUE            FALSE      FALSE
P-N-S-W                  TRUE            FALSE      FALSE
N-S-W                    TRUE            FALSE      FALSE
P-S-W                    TRUE            FALSE      FALSE
S-W                      TRUE            FALSE      FALSE
P-N-L-W                  TRUE            FALSE      FALSE
N-L-W                    TRUE            FALSE      FALSE
P-L-W                    TRUE            FALSE      FALSE
L-W                      TRUE            FALSE      FALSE
P-N-W                    TRUE            FALSE      FALSE
N-W                      TRUE            FALSE      FALSE
P-W                      TRUE            FALSE      FALSE
W                        TRUE            FALSE      FALSE
P-N-L-S                 FALSE            FALSE      FALSE
N-L-S                   FALSE            FALSE      FALSE
P-L-S                   FALSE            FALSE      FALSE
L-S                     FALSE            FALSE      FALSE
P-N-S                   FALSE            FALSE      FALSE
N-S                     FALSE            FALSE      FALSE
P-S                     FALSE            FALSE      FALSE
S                       FALSE            FALSE      FALSE
P-N-L                   FALSE            FALSE      FALSE
N-L                     FALSE            FALSE      FALSE
P-L                     FALSE            FALSE      FALSE
L                       FALSE            FALSE      FALSE
P-N                     FALSE            FALSE      FALSE
N                       FALSE            FALSE      FALSE
P                       FALSE            FALSE      FALSE
                        FALSE            FALSE      FALSE

$regression_results
    Coefficient          SE                Variable
1  0.0692437554 0.008765654               Intercept
2 -0.0248352010 0.006026387      Remove Punctuation
3 -0.0012912608 0.006026387          Remove Numbers
4  0.0008042152 0.006026387               Lowercase
5  0.0315263364 0.006026387                Stemming
6 -0.0031236074 0.006026387        Remove Stopwords
7 -0.0194667091 0.006026387 Remove Infrequent Terms
8 -0.0194780796 0.006026387              Use NGrams
                Model
1 Gun Pretext Results
2 Gun Pretext Results
3 Gun Pretext Results
4 Gun Pretext Results
5 Gun Pretext Results
6 Gun Pretext Results
7 Gun Pretext Results
8 Gun Pretext Results</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#load("/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/preText_results_gun_50_comps.RData")</span>

<span class='fu'>preText_score_plot</span><span class='op'>(</span><span class='va'>preText_results</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-29-1.png" width="624" /></p>
</div>
<p><strong>Explanation:</strong> After plotting we access the pretext
score with the minimum score, which is least unusual. This is the row
with the pre-processing steps refered to as “3” in the data. In addition
L-3 results in the same preText Score.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>scores_new_pretext</span><span class='op'>&lt;-</span><span class='va'>preText_results</span><span class='op'>$</span><span class='va'>preText_score</span> 

<span class='co'># head(sort(scores_new_pretext))</span>
</code></pre>
</div>
</div>
<p><strong>Explanation:</strong> Looking at the choices below I see that
“3” does not do anything but use n-grams. L-3 does use lowercase and
n-grams.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># preprocessed_documents$choices</span>
</code></pre>
</div>
</div>
<p><strong>Explanation Continued:</strong> Looking at the regression
coefficients we see negative scores as usual results and positive
coefficients as unusual ones. In this case removing puncuation,
stopwords, and n-grams would not lead to a great deal of abnormality.
The scores below indicate that stemming would result in the most
abnormality while all others but lowercase is the only other that has a
non-negative coefficinet.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>regression_coefficient_plot</span><span class='op'>(</span><span class='va'>preText_results</span>,
                            remove_intercept <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-32-1.png" width="624" /></p>
</div>
<h5 id="feature-co-occurance-matrix">Feature Co-occurance Matrix</h5>
<p><strong>Explanation:</strong> The feature co-occurance matrix can
give us a sense of which words in the dataset are occurring together</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># let's create a nicer dfm by limiting to words that appear frequently and are in more than 30% of chapters</span>
<span class='va'>smaller_dfm</span> <span class='op'>&lt;-</span> <span class='fu'>dfm_trim</span><span class='op'>(</span><span class='va'>new_guns_corpus_dfm_punct_tl_sw</span>, min_termfreq <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>

<span class='co'>#smaller_dfm &lt;- dfm_trim(smaller_dfm, min_docfreq = .3, docfreq_type = "prop")</span>

<span class='co'># create fcm from dfm</span>
<span class='va'>smaller_fcm</span> <span class='op'>&lt;-</span> <span class='fu'>fcm</span><span class='op'>(</span><span class='va'>smaller_dfm</span><span class='op'>)</span>

<span class='co'># check the dimensions (i.e., the number of rows and the number of columnns)</span>
<span class='co'># of the matrix we created</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>smaller_fcm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 226 226</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># pull the top features</span>
<span class='va'>myFeatures</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='fu'>topfeatures</span><span class='op'>(</span><span class='va'>smaller_fcm</span>, <span class='fl'>40</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># retain only those top features as part of our matrix</span>
<span class='va'>even_smaller_fcm</span> <span class='op'>&lt;-</span> <span class='fu'>fcm_select</span><span class='op'>(</span><span class='va'>smaller_fcm</span>, pattern <span class='op'>=</span> <span class='va'>myFeatures</span>, selection <span class='op'>=</span> <span class='st'>"keep"</span><span class='op'>)</span>

<span class='co'># check dimensions</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>even_smaller_fcm</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 40 40</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># compute size weight for vertices in network</span>
<span class='va'>size</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/colSums.html'>colSums</a></span><span class='op'>(</span><span class='va'>even_smaller_fcm</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># create plot</span>
<span class='fu'>textplot_network</span><span class='op'>(</span><span class='va'>even_smaller_fcm</span>, vertex_size <span class='op'>=</span> <span class='va'>size</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>size</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-34-1.png" width="624" /></p>
</div>
<h3 id="sentiment-results-using-nrc">Sentiment Results Using NRC</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># get_sentiments("nrc")</span>
<span class='co'># get_sentiments("bing")</span>
<span class='co'># get_sentiments("afinn")</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>sentimetnsdf</span> <span class='op'>&lt;-</span> <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"/Users/noahmilstein/Desktop/Spring 2022/Textasdata/text_as_data_work/sentimetnsdf.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>new_guns_urls_df_2</span><span class='op'>&lt;-</span><span class='va'>new_guns_urls_df</span>

<span class='va'>new_guns_urls_df_2</span><span class='op'>$</span><span class='va'>text</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>980</span>, by<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>

<span class='va'>nrc_joy</span> <span class='op'>&lt;-</span> <span class='va'>sentimetnsdf</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>sentiment</span> <span class='op'>==</span> <span class='st'>"joy"</span><span class='op'>)</span>

<span class='va'>tidy_posts_for_guns</span> <span class='op'>&lt;-</span> <span class='va'>new_guns_urls_df_2</span> <span class='op'>%&gt;%</span>
  <span class='fu'>unnest_tokens</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>title</span><span class='op'>)</span> 

<span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span>
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>nrc_joy</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>word</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>kable</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">word</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">good</td>
<td style="text-align: right;">22</td>
</tr>
<tr class="even">
<td style="text-align: left;">love</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">finally</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: left;">safe</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fun</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: left;">favorite</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tidy_posts_for_guns_sentiment</span> <span class='op'>&lt;-</span> <span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span>
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>sentimetnsdf</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>text</span>, <span class='va'>sentiment</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>pivot_wider</span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='va'>sentiment</span>, values_from <span class='op'>=</span> <span class='va'>n</span>, values_fill <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>sentiment <span class='op'>=</span> <span class='va'>positive</span> <span class='op'>-</span> <span class='va'>negative</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>nrc_sentiment</span> <span class='op'>&lt;-</span> <span class='fu'>get_sentiments</span><span class='op'>(</span><span class='st'>"nrc"</span><span class='op'>)</span>


<span class='va'>nrc_guns_word_counts</span> <span class='op'>&lt;-</span> <span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span>
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>nrc_sentiment</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>sentiment</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>nrc_guns_word_counts</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>sentiment</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>n</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>word</span>, fill <span class='op'>=</span> <span class='va'>sentiment</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>sentiment</span>, scales <span class='op'>=</span> <span class='st'>"free_y"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Contribution to sentiment"</span>,
       y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-39-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>Bing_sentiments</span><span class='op'>&lt;-</span><span class='fu'>get_sentiments</span><span class='op'>(</span><span class='st'>"bing"</span><span class='op'>)</span>

<span class='va'>tidy_posts_for_guns_sentiment</span> <span class='op'>&lt;-</span> <span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span>
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='va'>Bing_sentiments</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>text</span>, <span class='va'>sentiment</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>pivot_wider</span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='va'>sentiment</span>, values_from <span class='op'>=</span> <span class='va'>n</span>, values_fill <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>sentiment <span class='op'>=</span> <span class='va'>positive</span> <span class='op'>-</span> <span class='va'>negative</span><span class='op'>)</span>

<span class='va'>bing_word_counts</span> <span class='op'>&lt;-</span> <span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span>
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='fu'>get_sentiments</span><span class='op'>(</span><span class='st'>"bing"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>sentiment</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>bing_word_counts</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>sentiment</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>n</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>word <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>word</span>, <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>word</span>, fill <span class='op'>=</span> <span class='va'>sentiment</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>sentiment</span>, scales <span class='op'>=</span> <span class='st'>"free_y"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Contribution to sentiment"</span>,
       y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-40-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>tidy_posts_for_guns</span><span class='op'>$</span><span class='va'>added_dates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>tidy_posts_for_guns</span><span class='op'>$</span><span class='va'>date_utc</span><span class='op'>)</span>


<span class='va'>afinn</span> <span class='op'>&lt;-</span> <span class='va'>tidy_posts_for_guns</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>inner_join</span><span class='op'>(</span><span class='fu'>get_sentiments</span><span class='op'>(</span><span class='st'>"afinn"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span>index <span class='op'>=</span> <span class='va'>added_dates</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>sentiment <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"AFINN"</span><span class='op'>)</span>
<span class='va'>afinn</span>
</code></pre>
</div>
<pre><code># A tibble: 14 × 3
   index      sentiment method
   &lt;date&gt;         &lt;dbl&gt; &lt;chr&gt; 
 1 2022-03-14         9 AFINN 
 2 2022-03-15        17 AFINN 
 3 2022-03-16         0 AFINN 
 4 2022-03-17        23 AFINN 
 5 2022-03-18         7 AFINN 
 6 2022-03-19        30 AFINN 
 7 2022-03-20        13 AFINN 
 8 2022-03-21        11 AFINN 
 9 2022-03-22        19 AFINN 
10 2022-03-23         8 AFINN 
11 2022-03-24        32 AFINN 
12 2022-03-25         7 AFINN 
13 2022-03-26         6 AFINN 
14 2022-03-27         0 AFINN </code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>afinn</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>index</span>, <span class='va'>sentiment</span>, fill <span class='op'>=</span> <span class='va'>method</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,   width <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span>  <span class='op'>+</span> 
  <span class='fu'>geom_smooth</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>sentiment</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span><span class='op'>+</span>
<span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>method</span>, ncol <span class='op'>=</span> <span class='fl'>1</span>, scales <span class='op'>=</span> <span class='st'>"free_y"</span><span class='op'>)</span><span class='op'>+</span>
  <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-42-1.png" width="624" /></p>
</div>
<h3 id="sentiment-results-using-bing">Sentiment Results Using BING</h3>
<p><strong>Explanation:</strong> Using nrc appears to have had some
unintended effects that may require an analysis of the specific words
used to describe sentiment. One difficult part of the data being used is
that firearms, and the words used to describe them, are percieved</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>methods</span><span class='op'>)</span>

<span class='va'>too_gun_dfm</span><span class='op'>&lt;-</span> <span class='fu'>quanteda</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/quanteda/man/dfm.html'>dfm</a></span><span class='op'>(</span><span class='va'>new_guns_corpus</span>, verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='va'>too_gun_dfm</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>topicmodels</span><span class='op'>)</span>

<span class='va'>gun_dfm_lda</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/topicmodels/man/lda.html'>LDA</a></span><span class='op'>(</span><span class='va'>too_gun_dfm</span>, k <span class='op'>=</span> <span class='fl'>2</span>, control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>seed <span class='op'>=</span> <span class='fl'>777</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>gun_dfm_lda</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gun_dfm_lda_topics</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>gun_dfm_lda</span>, matrix <span class='op'>=</span> <span class='st'>"beta"</span><span class='op'>)</span>
<span class='va'>gun_dfm_lda_topics</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gun_top_terms</span> <span class='op'>&lt;-</span> <span class='va'>gun_dfm_lda_topics</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>beta</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>topic</span>, <span class='op'>-</span><span class='va'>beta</span><span class='op'>)</span>

<span class='va'>gun_top_terms</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'>reorder_within</span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>beta</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>beta</span>, <span class='va'>term</span>, fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>topic</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_reordered</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beta_wide</span> <span class='op'>&lt;-</span> <span class='va'>gun_dfm_lda_topics</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>topic <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"topic"</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>pivot_wider</span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='va'>topic</span>, values_from <span class='op'>=</span> <span class='va'>beta</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>topic1</span> <span class='op'>&gt;</span> <span class='fl'>.001</span> <span class='op'>|</span> <span class='va'>topic2</span> <span class='op'>&gt;</span> <span class='fl'>.001</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>log_ratio <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log2</a></span><span class='op'>(</span><span class='va'>topic2</span> <span class='op'>/</span> <span class='va'>topic1</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>beta_wide</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beta_wide</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span>direction <span class='op'>=</span> <span class='va'>log_ratio</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>log_ratio</span><span class='op'>)</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>log_ratio</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>log_ratio</span>, <span class='va'>term</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Log2 ratio of beta in topic 2 / topic 1"</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="topic-modeling-analysis">Topic Modeling analysis</h4>
<p><strong>Response:</strong> As can be seen above topic modeling may
benefit from some data reduction, removing punctuation and stop words
would likely be beneficial as can be seen above where a number of the
differences between topics are modeled as punctuation and stop
words.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gun_tokens_stopwords_and_punct_removed</span> <span class='op'>&lt;-</span> <span class='fu'>tokens_remove</span><span class='op'>(</span><span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span>, remove_punct <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"english"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>gun_corpus_stopwords_and_punct_removed</span> <span class='op'>&lt;-</span> <span class='fu'>corpus</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>sapply</a></span><span class='op'>(</span><span class='va'>gun_tokens_stopwords_and_punct_removed</span>, <span class='va'>paste</span>, collapse<span class='op'>=</span><span class='st'>" "</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>gun_corpus_stopwords_and_punct_removed</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>methods</span><span class='op'>)</span>

<span class='va'>too_gun_dfm_no_punct_stopwords</span><span class='op'>&lt;-</span> <span class='fu'>quanteda</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/quanteda/man/dfm.html'>dfm</a></span><span class='op'>(</span><span class='fu'>tokens</span><span class='op'>(</span><span class='va'>gun_corpus_stopwords_and_punct_removed</span><span class='op'>)</span>, verbose <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='va'>too_gun_dfm_no_punct_stopwords</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>topicmodels</span><span class='op'>)</span>

<span class='va'>gun_dfm_lda_nopunct_stop</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/topicmodels/man/lda.html'>LDA</a></span><span class='op'>(</span><span class='va'>too_gun_dfm_no_punct_stopwords</span>, k <span class='op'>=</span> <span class='fl'>2</span>, control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>seed <span class='op'>=</span> <span class='fl'>777</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>gun_dfm_lda_nopunct_stop</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gun_dfm_lda_topics_nopunct_stop</span> <span class='op'>&lt;-</span> <span class='fu'>tidy</span><span class='op'>(</span><span class='va'>gun_dfm_lda_nopunct_stop</span>, matrix <span class='op'>=</span> <span class='st'>"beta"</span><span class='op'>)</span>

<span class='va'>gun_dfm_lda_topics_nopunct_stop</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>gun_top_terms_no_punct_or_stop</span><span class='op'>&lt;-</span> <span class='va'>gun_dfm_lda_topics_nopunct_stop</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='va'>beta</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>arrange</span><span class='op'>(</span><span class='va'>topic</span>, <span class='op'>-</span><span class='va'>beta</span><span class='op'>)</span>

<span class='va'>gun_top_terms_no_punct_or_stop</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'>reorder_within</span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>beta</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>beta</span>, <span class='va'>term</span>, fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='va'>topic</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_y_reordered</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beta_wide_no_punct_stop</span> <span class='op'>&lt;-</span> <span class='va'>gun_dfm_lda_topics_nopunct_stop</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>topic <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"topic"</span>, <span class='va'>topic</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>pivot_wider</span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='va'>topic</span>, values_from <span class='op'>=</span> <span class='va'>beta</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>topic1</span> <span class='op'>&gt;</span> <span class='fl'>.001</span> <span class='op'>|</span> <span class='va'>topic2</span> <span class='op'>&gt;</span> <span class='fl'>.001</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>log_ratio <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log2</a></span><span class='op'>(</span><span class='va'>topic2</span> <span class='op'>/</span> <span class='va'>topic1</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beta_wide_no_punct_stop</span> <span class='op'>%&gt;%</span>
  <span class='fu'>group_by</span><span class='op'>(</span>direction <span class='op'>=</span> <span class='va'>log_ratio</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>slice_max</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>log_ratio</span><span class='op'>)</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>term <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>term</span>, <span class='va'>log_ratio</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>log_ratio</span>, <span class='va'>term</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>"Log2 ratio of beta in topic 2 / topic 1"</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<h4 id="tokens-and-corpus-work">Tokens and Corpus Work</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>top_guns_tokens</span> <span class='op'>&lt;-</span> <span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>top_guns_tokens</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Tokens consisting of 980 documents.
text1 :
 [1] &quot;With&quot;    &quot;tiny&quot;    &quot;ar15s&quot;   &quot;and&quot;     &quot;mcx&quot;     &quot;/&quot;      
 [7] &quot;similar&quot; &quot;,&quot;       &quot;where&quot;   &quot;does&quot;    &quot;a&quot;       &quot;pcc&quot;    
[ ... and 6 more ]

text2 :
 [1] &quot;I&quot;      &quot;still&quot;  &quot;don&quot;    &quot;t&quot;      &quot;feel&quot;   &quot;like&quot;   &quot;this&quot;  
 [8] &quot;is&quot;     &quot;good&quot;   &quot;enough&quot; &quot;.&quot;      &quot;Ha&quot;    
[ ... and 9 more ]

text3 :
[1] &quot;Best&quot;    &quot;Home&quot;    &quot;Defense&quot; &quot;Round&quot;   &quot;in&quot;      &quot;5.56&quot;   
[7] &quot;?&quot;      

text4 :
 [1] &quot;5&quot;       &quot;5&quot;       &quot;*&quot;       &quot;5&quot;       &quot;/&quot;       &quot;555&quot;    
 [7] &quot;&amp;&quot;       &quot;53&quot;      &quot;5&quot;       &quot;50535.5&quot; &quot;\&quot;&quot;      &quot;5-&quot;     

text5 :
 [1] &quot;My&quot;         &quot;suppressed&quot; &quot;12.5&quot;       &quot;AR&quot;         &quot;is&quot;        
 [6] &quot;the&quot;        &quot;same&quot;       &quot;size&quot;       &quot;as&quot;         &quot;my&quot;        
[11] &quot;14.5&quot;       &quot;\&quot;&quot;        
[ ... and 1 more ]

text6 :
 [1] &quot;Springfield&quot; &quot;Hellcat&quot;     &quot;RDP&quot;         &quot;with&quot;       
 [5] &quot;SilencerCo&quot;  &quot;Omega&quot;       &quot;9k&quot;          &quot;and&quot;        
 [9] &quot;Streamlight&quot; &quot;TLR-7&quot;       &quot;.&quot;          

[ reached max_ndoc ... 974 more documents ]</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>top_guns_tokens_no_punct</span> <span class='op'>&lt;-</span> <span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span>, 
    remove_punct <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Tokens consisting of 980 documents.
text1 :
 [1] &quot;With&quot;    &quot;tiny&quot;    &quot;ar15s&quot;   &quot;and&quot;     &quot;mcx&quot;     &quot;similar&quot;
 [7] &quot;where&quot;   &quot;does&quot;    &quot;a&quot;       &quot;pcc&quot;     &quot;fit&quot;     &quot;in&quot;     
[ ... and 3 more ]

text2 :
 [1] &quot;I&quot;      &quot;still&quot;  &quot;don&quot;    &quot;t&quot;      &quot;feel&quot;   &quot;like&quot;   &quot;this&quot;  
 [8] &quot;is&quot;     &quot;good&quot;   &quot;enough&quot; &quot;Ha&quot;     &quot;Anyone&quot;
[ ... and 6 more ]

text3 :
[1] &quot;Best&quot;    &quot;Home&quot;    &quot;Defense&quot; &quot;Round&quot;   &quot;in&quot;      &quot;5.56&quot;   

text4 :
[1] &quot;5&quot;       &quot;5&quot;       &quot;5&quot;       &quot;555&quot;     &quot;53&quot;      &quot;5&quot;      
[7] &quot;50535.5&quot; &quot;5-&quot;     

text5 :
 [1] &quot;My&quot;         &quot;suppressed&quot; &quot;12.5&quot;       &quot;AR&quot;         &quot;is&quot;        
 [6] &quot;the&quot;        &quot;same&quot;       &quot;size&quot;       &quot;as&quot;         &quot;my&quot;        
[11] &quot;14.5&quot;       &quot;AR&quot;        

text6 :
 [1] &quot;Springfield&quot; &quot;Hellcat&quot;     &quot;RDP&quot;         &quot;with&quot;       
 [5] &quot;SilencerCo&quot;  &quot;Omega&quot;       &quot;9k&quot;          &quot;and&quot;        
 [9] &quot;Streamlight&quot; &quot;TLR-7&quot;      

[ reached max_ndoc ... 974 more documents ]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>top_guns_tokens_no_punct_no_upper</span> <span class='op'>&lt;-</span> <span class='fu'>tokens_tolower</span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct_no_upper</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Tokens consisting of 980 documents.
text1 :
 [1] &quot;with&quot;    &quot;tiny&quot;    &quot;ar15s&quot;   &quot;and&quot;     &quot;mcx&quot;     &quot;similar&quot;
 [7] &quot;where&quot;   &quot;does&quot;    &quot;a&quot;       &quot;pcc&quot;     &quot;fit&quot;     &quot;in&quot;     
[ ... and 3 more ]

text2 :
 [1] &quot;i&quot;      &quot;still&quot;  &quot;don&quot;    &quot;t&quot;      &quot;feel&quot;   &quot;like&quot;   &quot;this&quot;  
 [8] &quot;is&quot;     &quot;good&quot;   &quot;enough&quot; &quot;ha&quot;     &quot;anyone&quot;
[ ... and 6 more ]

text3 :
[1] &quot;best&quot;    &quot;home&quot;    &quot;defense&quot; &quot;round&quot;   &quot;in&quot;      &quot;5.56&quot;   

text4 :
[1] &quot;5&quot;       &quot;5&quot;       &quot;5&quot;       &quot;555&quot;     &quot;53&quot;      &quot;5&quot;      
[7] &quot;50535.5&quot; &quot;5-&quot;     

text5 :
 [1] &quot;my&quot;         &quot;suppressed&quot; &quot;12.5&quot;       &quot;ar&quot;         &quot;is&quot;        
 [6] &quot;the&quot;        &quot;same&quot;       &quot;size&quot;       &quot;as&quot;         &quot;my&quot;        
[11] &quot;14.5&quot;       &quot;ar&quot;        

text6 :
 [1] &quot;springfield&quot; &quot;hellcat&quot;     &quot;rdp&quot;         &quot;with&quot;       
 [5] &quot;silencerco&quot;  &quot;omega&quot;       &quot;9k&quot;          &quot;and&quot;        
 [9] &quot;streamlight&quot; &quot;tlr-7&quot;      

[ reached max_ndoc ... 974 more documents ]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>top_guns_tokens_no_punct_no_upper_no_stop</span> <span class='op'>&lt;-</span>    <span class='fu'>tokens_select</span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct_no_upper</span>, pattern <span class='op'>=</span> <span class='fu'>stopwords</span><span class='op'>(</span><span class='st'>"en"</span><span class='op'>)</span>, selection <span class='op'>=</span> <span class='st'>"remove"</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct_no_upper_no_stop</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 980</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>top_guns_tokens_no_punct_no_upper_no_stop</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Tokens consisting of 980 documents.
text1 :
[1] &quot;tiny&quot;    &quot;ar15s&quot;   &quot;mcx&quot;     &quot;similar&quot; &quot;pcc&quot;     &quot;fit&quot;    
[7] &quot;arsenal&quot; &quot;now&quot;    

text2 :
 [1] &quot;still&quot;  &quot;don&quot;    &quot;t&quot;      &quot;feel&quot;   &quot;like&quot;   &quot;good&quot;   &quot;enough&quot;
 [8] &quot;ha&quot;     &quot;anyone&quot; &quot;else&quot;   &quot;anal&quot;   &quot;stuff&quot; 

text3 :
[1] &quot;best&quot;    &quot;home&quot;    &quot;defense&quot; &quot;round&quot;   &quot;5.56&quot;   

text4 :
[1] &quot;5&quot;       &quot;5&quot;       &quot;5&quot;       &quot;555&quot;     &quot;53&quot;      &quot;5&quot;      
[7] &quot;50535.5&quot; &quot;5-&quot;     

text5 :
[1] &quot;suppressed&quot; &quot;12.5&quot;       &quot;ar&quot;         &quot;size&quot;       &quot;14.5&quot;      
[6] &quot;ar&quot;        

text6 :
[1] &quot;springfield&quot; &quot;hellcat&quot;     &quot;rdp&quot;         &quot;silencerco&quot; 
[5] &quot;omega&quot;       &quot;9k&quot;          &quot;streamlight&quot; &quot;tlr-7&quot;      

[ reached max_ndoc ... 974 more documents ]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>top_guns_corpus_tokens</span> <span class='op'>&lt;-</span> <span class='fu'>tokens</span><span class='op'>(</span><span class='va'>new_guns_corpus</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>top_guns_corpus_tokens</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Tokens consisting of 980 documents.
text1 :
 [1] &quot;With&quot;    &quot;tiny&quot;    &quot;ar15s&quot;   &quot;and&quot;     &quot;mcx&quot;     &quot;/&quot;      
 [7] &quot;similar&quot; &quot;,&quot;       &quot;where&quot;   &quot;does&quot;    &quot;a&quot;       &quot;pcc&quot;    
[ ... and 6 more ]

text2 :
 [1] &quot;I&quot;      &quot;still&quot;  &quot;don&quot;    &quot;t&quot;      &quot;feel&quot;   &quot;like&quot;   &quot;this&quot;  
 [8] &quot;is&quot;     &quot;good&quot;   &quot;enough&quot; &quot;.&quot;      &quot;Ha&quot;    
[ ... and 9 more ]

text3 :
[1] &quot;Best&quot;    &quot;Home&quot;    &quot;Defense&quot; &quot;Round&quot;   &quot;in&quot;      &quot;5.56&quot;   
[7] &quot;?&quot;      

text4 :
 [1] &quot;5&quot;       &quot;5&quot;       &quot;*&quot;       &quot;5&quot;       &quot;/&quot;       &quot;555&quot;    
 [7] &quot;&amp;&quot;       &quot;53&quot;      &quot;5&quot;       &quot;50535.5&quot; &quot;\&quot;&quot;      &quot;5-&quot;     

text5 :
 [1] &quot;My&quot;         &quot;suppressed&quot; &quot;12.5&quot;       &quot;AR&quot;         &quot;is&quot;        
 [6] &quot;the&quot;        &quot;same&quot;       &quot;size&quot;       &quot;as&quot;         &quot;my&quot;        
[11] &quot;14.5&quot;       &quot;\&quot;&quot;        
[ ... and 1 more ]

text6 :
 [1] &quot;Springfield&quot; &quot;Hellcat&quot;     &quot;RDP&quot;         &quot;with&quot;       
 [5] &quot;SilencerCo&quot;  &quot;Omega&quot;       &quot;9k&quot;          &quot;and&quot;        
 [9] &quot;Streamlight&quot; &quot;TLR-7&quot;       &quot;.&quot;          

[ reached max_ndoc ... 974 more documents ]</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>annotated.guns_corpus</span><span class='op'>$</span><span class='va'>token</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 × 11
  doc_id   sid tid   token token_with_ws lemma upos  xpos  feats      
   &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;      
1      1     1 1     With  &quot;With &quot;       with  ADP   IN    &lt;NA&gt;       
2      1     1 2     tiny  &quot;tiny &quot;       tiny  ADJ   JJ    Degree=Pos 
3      1     1 3     ar    &quot;ar&quot;          ar    NOUN  NN    Number=Sing
4      1     1 4     15s   &quot;15s &quot;        15s   NOUN  NNS   Number=Plur
5      1     1 5     and   &quot;and &quot;        and   CCONJ CC    &lt;NA&gt;       
6      1     1 6     mcx/  &quot;mcx/&quot;        mcx/  SYM   NFP   &lt;NA&gt;       
# … with 2 more variables: tid_source &lt;chr&gt;, relation &lt;chr&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>annotated.guns_corpus</span><span class='op'>$</span><span class='va'>document</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>  doc_id
1      1
2      2
3      3
4      4
5      5
6      6</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>doc_id_guns</span><span class='op'>&lt;-</span><span class='va'>annotated.guns_corpus</span><span class='op'>$</span><span class='va'>document</span>

<span class='va'>doc_id_guns</span><span class='op'>$</span><span class='va'>date</span><span class='op'>&lt;-</span><span class='va'>new_guns_urls_df</span><span class='op'>$</span><span class='va'>date_utc</span>

<span class='va'>annoData</span> <span class='op'>&lt;-</span> <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>doc_id_guns</span>, <span class='va'>annotated.guns_corpus</span><span class='op'>$</span><span class='va'>token</span>, by <span class='op'>=</span> <span class='st'>"doc_id"</span><span class='op'>)</span>

<span class='va'>annoData</span><span class='op'>$</span><span class='va'>date</span><span class='op'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>annoData</span><span class='op'>$</span><span class='va'>date</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>annoData</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>date</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarize</span><span class='op'>(</span>Sentences <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>sid</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>date</span>, <span class='va'>Sentences</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_line</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>geom_smooth</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
    <span class='fu'>theme_bw</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="text-as-data-blog-post-4_files/figure-html5/unnamed-chunk-62-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'>#sentimetnsdf&lt;-get_sentiments("nrc")</span>

<span class='co'>#write.csv(sentimetnsdf, file = "sentimetnsdf.csv")</span>

<span class='co'>#save(sentimetnsdf, file="sentimetnsdf_2")</span>
</code></pre>
</div>
</div>
<p>`</p>
<h4
id="topic-modeling-analysis-with-stopwords-and-punctuation-removed">Topic
Modeling analysis with stopwords and punctuation removed</h4>
<p><strong>Response:</strong> As can be seen from the results above,
removing stopwords and punctuation removes a good deal of the unwanted
language from the corpus and does a slightly more comprehensible job in
displaying the information. However, any kind of stemming or reduction
will be difficult with posts about firearms for a number of reasons.
Firstly the language surrounding firearms involves numbers for model
numbers, ammunition calibers and the capacity of magazines and other
devices that hold bullets. This results in difficulty removing both
punctuation and numbers from the data as they give a sense of what sort
of each of the aforementioned items people are interesting in talking
about. As a results removing the punctuation is difficult because it
allows for more comprehensible data by reducing the usage of unneeded
punctuation like exclamaintion points and questions marks that are
common on a forum of this nature but not useful in analyzing the common
topics and language.</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
